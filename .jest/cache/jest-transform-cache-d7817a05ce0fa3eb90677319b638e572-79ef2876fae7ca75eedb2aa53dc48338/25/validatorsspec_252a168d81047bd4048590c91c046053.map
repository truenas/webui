{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/services/validators.spec.ts","mappings":";;AAAA,0CAAwD;AACxD,wDAAwD;AAExD,QAAQ,CAAC,mBAAmB,EAAE,GAAG,EAAE;IACjC,MAAM,MAAM,GAAG,QAAQ,CAAC;IACxB,MAAM,MAAM,GAAG,QAAQ,CAAC;IACxB,IAAI,SAAoB,CAAC;IACzB,UAAU,CAAC,GAAG,EAAE;QACd,SAAS,GAAG,IAAI,iBAAS,CAAC;YACxB,MAAM,EAAE,IAAI,mBAAW,CAAC,CAAC,CAAC;YAC1B,MAAM,EAAE,IAAI,mBAAW,CAAC,CAAC,CAAC;SAC3B,EAAE;YACD,UAAU,EAAE;gBACV,IAAA,0BAAa,EAAC,MAAM,EAAE,CAAC,MAAM,CAAC,EAAE,oBAAoB,CAAC;aACtD;SACF,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uDAAuD,EAAE,GAAG,EAAE;QAC/D,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,SAAS,CAAC,sBAAsB,EAAE,CAAC;QACnC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,EAAE,CAAC;QACpC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC;YAC3C,WAAW,EAAE,EAAE,OAAO,EAAE,oBAAoB,EAAE;SAC/C,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,qDAAqD,EAAE,GAAG,EAAE;QAC7D,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,SAAS,CAAC,sBAAsB,EAAE,CAAC;QACnC,uCAAuC;QACvC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC;YAC3C,WAAW,EAAE,EAAE,OAAO,EAAE,oBAAoB,EAAE;SAC/C,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,2DAA2D,EAAE,GAAG,EAAE;QACnE,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAClC,SAAS,CAAC,sBAAsB,EAAE,CAAC;QACnC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,UAAU,EAAE,CAAC;QACrC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,CAAC;IACnD,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,wDAAwD,EAAE,GAAG,EAAE;QAChE,MAAM,CAAC,GAAG,EAAE;YACV,SAAS,GAAG,IAAI,iBAAS,CAAC;gBACxB,MAAM,EAAE,IAAI,mBAAW,CAAC,CAAC,CAAC;aAC3B,EAAE;gBACD,UAAU,EAAE;oBACV,IAAA,0BAAa,EAAC,MAAM,EAAE,CAAC,MAAM,CAAC,EAAE,oBAAoB,CAAC;iBACtD;aACF,CAAC,CAAC;YACH,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,sBAAsB,EAAE,CAAC;QACjD,CAAC,CAAC,CAAC,OAAO,CAAC,iEAAiE,CAAC,CAAC;IAChF,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/services/validators.spec.ts"],"sourcesContent":["import { FormControl, FormGroup } from '@angular/forms';\nimport { greaterThanFg } from 'app/services/validators';\n\ndescribe('ValidationService', () => {\n  const value1 = 'value1';\n  const value2 = 'value2';\n  let formGroup: FormGroup;\n  beforeEach(() => {\n    formGroup = new FormGroup({\n      value1: new FormControl(0),\n      value2: new FormControl(0),\n    }, {\n      validators: [\n        greaterThanFg(value1, [value2], 'Greater than error'),\n      ],\n    });\n  });\n\n  it('should have greatherThan error when value1 is smaller', () => {\n    formGroup.get(value1).setValue(0);\n    formGroup.get(value2).setValue(1);\n    formGroup.updateValueAndValidity();\n    expect(formGroup.valid).toBeFalsy();\n    expect(formGroup.get(value1).errors).toEqual({\n      greaterThan: { message: 'Greater than error' },\n    });\n  });\n\n  it('should have greatherThan error when value1 is equal', () => {\n    formGroup.get(value1).setValue(0);\n    formGroup.get(value2).setValue(0);\n    formGroup.updateValueAndValidity();\n    // expect(formGroup.valid).toBeFalsy();\n    expect(formGroup.get(value1).errors).toEqual({\n      greaterThan: { message: 'Greater than error' },\n    });\n  });\n\n  it('should not have greatherThan error when value1 is greater', () => {\n    formGroup.get(value1).setValue(1);\n    formGroup.get(value2).setValue(0);\n    formGroup.updateValueAndValidity();\n    expect(formGroup.valid).toBeTruthy();\n    expect(formGroup.get(value1).errors).toBeFalsy();\n  });\n\n  it('should throw error if value2 doesnt exist in formGroup', () => {\n    expect(() => {\n      formGroup = new FormGroup({\n        value1: new FormControl(0),\n      }, {\n        validators: [\n          greaterThanFg(value1, [value2], 'Greater than error'),\n        ],\n      });\n      formGroup.get(value1).updateValueAndValidity();\n    }).toThrow('greaterThanValidator(): other control is not found in the group');\n  });\n});\n"],"version":3}