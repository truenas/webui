{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/system/bootenv/bootenv-list/bootenv-list.component.ts","mappings":";;;;;;;;;AAAA,4CAA4C;AAC5C,wCAA2E;AAC3E,qDAAqD;AACrD,qDAAqD;AACrD,iEAAkF;AAClF,4CAA6C;AAC7C,yDAAqE;AACrE,8CAAwE;AACxE,+BAGc;AACd,qGAAgG;AAChG,4EAAuE;AACvE,yFAA+E;AAC/E,yFAA+E;AAC/E,mDAA2C;AAC3C,2DAAqE;AAErE,sEAAkE;AAClE,mEAA+D;AAE/D,qGAAgG;AAChG,2EAAkE;AAClE,6EAAwE;AACxE,8GAAyG;AACzG,oGAA+F;AAC/F,6IAA8H;AAC9H,gJAAiI;AACjI,oIAAqH;AACrH,oIAAqH;AACrH,oIAAqH;AACrH,0IAA0H;AAC1H,mHAA6G;AAC7G,mHAA6G;AAC7G,sHAAgH;AAChH,uGAAiG;AACjG,wFAA+E;AAC/E,sDAAyD;AACzD,8EAAyE;AACzE,2GAAsG;AACtG,qFAAiF;AACjF,uEAAmE;AACnE,0IAAmI;AACnI,yGAA4G;AAC5G,uGAA+F;AAC/F,iIAA2H;AAC3H,8EAAyE;AACzE,0EAAoE;AACpE,wDAA2D;AAmCpD,IAAM,4BAA4B,GAAlC,MAAM,4BAA4B;IA+GvC,IAAI,gBAAgB;QAClB,OAAO,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAC7D,CAAC;IAED,IAAI,iBAAiB;QACnB,OAAO,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAC/B,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,oDAAqB,CAAC,IAAI,EAAE,oDAAqB,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAChG,CAAC;IACJ,CAAC;IAID,YACU,EAAoB,EACpB,SAAoB,EACpB,SAA2B,EAC3B,cAAgC,EAChC,MAAwB,EACxB,aAA4B,EAC5B,YAAiC,EACjC,QAAyB,EACvB,YAA0B;QAR5B,OAAE,GAAF,EAAE,CAAkB;QACpB,cAAS,GAAT,SAAS,CAAW;QACpB,cAAS,GAAT,SAAS,CAAkB;QAC3B,mBAAc,GAAd,cAAc,CAAkB;QAChC,WAAM,GAAN,MAAM,CAAkB;QACxB,kBAAa,GAAb,aAAa,CAAe;QAC5B,iBAAY,GAAZ,YAAY,CAAqB;QACjC,aAAQ,GAAR,QAAQ,CAAiB;QACvB,iBAAY,GAAZ,YAAY,CAAc;QAnI7B,kBAAa,GAAG,CAAC,gBAAI,CAAC,SAAS,CAAC,CAAC;QACvB,uBAAkB,GAAG,wCAAgB,CAAC;QAGzD,iBAAY,GAAG,EAAE,CAAC;QAElB,YAAO,GAAG,IAAA,mBAAW,EAAY;YAC/B,IAAA,2CAAc,EAAC;gBACb,YAAY,EAAE,UAAU;gBACxB,UAAU,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE;oBAC3B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,KAAK,OAAO,CAAC,EAAE,CAAC,CAAC,QAAQ,GAAG,OAAO,CAAC;oBAC1E,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;oBAC9B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBACzC,CAAC;gBACD,aAAa,EAAE,CAAC,OAAO,EAAE,EAAE;oBACzB,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,IAAI,CACjC,IAAA,WAAI,EAAC,CAAC,CAAC,EACP,IAAA,8BAAc,EAAC,IAAI,CAAC,CACrB,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,EAAE;wBACvB,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,CAAC,QAAQ,GAAG,OAAO,CAAC,CAAC;wBAC1D,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;wBAC9B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBACzC,CAAC,CAAC,CAAC;gBACL,CAAC;gBACD,QAAQ,EAAE,kBAAkB;aAC7B,CAAC;YACF,IAAA,mCAAU,EAAC;gBACT,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;gBACrC,YAAY,EAAE,MAAM;aACrB,CAAC;YACF,IAAA,mCAAU,EAAC;gBACT,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC;gBACvC,YAAY,EAAE,QAAQ;gBACtB,QAAQ,EAAE,CAAC,GAAG,EAAE,EAAE;oBAChB,QAAQ,GAAG,CAAC,MAAM,EAAE,CAAC;wBACnB,KAAK,oDAAqB,CAAC,GAAG;4BAC5B,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;wBACvC,KAAK,oDAAqB,CAAC,OAAO;4BAChC,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;wBAC3C,KAAK,oDAAqB,CAAC,SAAS;4BAClC,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;wBAC/C;4BACE,OAAO,GAAG,CAAC,MAAM,CAAC;oBACtB,CAAC;gBACH,CAAC;aACF,CAAC;YACF,IAAA,mCAAU,EAAC;gBACT,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,cAAc,CAAC;gBAC7C,YAAY,EAAE,SAAS;gBACvB,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK;aACnC,CAAC;YACF,IAAA,mCAAU,EAAC;gBACT,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC;gBACtC,YAAY,EAAE,UAAU;aACzB,CAAC;YACF,IAAA,sCAAW,EAAC;gBACV,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;gBACrC,YAAY,EAAE,MAAM;gBACpB,QAAQ,EAAE,aAAa;aACxB,CAAC;YACF,IAAA,yCAAa,EAAC;gBACZ,OAAO,EAAE;oBACP;wBACE,QAAQ,EAAE,IAAA,6BAAU,EAAC,oBAAoB,CAAC;wBAC1C,aAAa,EAAE,IAAI,CAAC,aAAa;wBACjC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC;wBAC3C,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAA,SAAE,EAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;wBAC7C,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;qBACvC;oBACD;wBACE,QAAQ,EAAE,IAAA,6BAAU,EAAC,kBAAkB,CAAC;wBACxC,aAAa,EAAE,IAAI,CAAC,aAAa;wBACjC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC;wBACxC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;qBACpC;oBACD;wBACE,QAAQ,EAAE,IAAA,6BAAU,EAAC,gBAAgB,CAAC;wBACtC,aAAa,EAAE,IAAI,CAAC,aAAa;wBACjC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC;wBACzC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;qBACrC;oBACD;wBACE,QAAQ,EAAE,IAAA,6BAAU,EAAC,UAAU,CAAC;wBAChC,aAAa,EAAE,IAAI,CAAC,aAAa;wBACjC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;wBACvC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAA,SAAE,EAAC,GAAG,CAAC,IAAI,CAAC;wBAC7B,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;qBACvC;oBACD;wBACE,QAAQ,EAAE,IAAA,6BAAU,EAAC,iBAAiB,CAAC;wBACvC,aAAa,EAAE,IAAI,CAAC,aAAa;wBACjC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC;wBACzC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAA,SAAE,EAAC,CAAC,GAAG,CAAC,IAAI,CAAC;wBAC9B,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;qBACvC;oBACD;wBACE,QAAQ,EAAE,IAAA,6BAAU,EAAC,YAAY,CAAC;wBAClC,aAAa,EAAE,IAAI,CAAC,aAAa;wBACjC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC;wBACzC,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAA,SAAE,EAAC,CAAC,CAAC,oDAAqB,CAAC,IAAI,EAAE,oDAAqB,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;wBACpG,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;qBACvC;iBACF;gBACD,QAAQ,EAAE,gBAAgB;aAC3B,CAAC;SACH,EAAE;YACD,YAAY,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,WAAW,GAAG,CAAC,IAAI,EAAE;YAC5C,UAAU,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;SAC5E,CAAC,CAAC;QAYK,aAAQ,GAAgB,EAAE,CAAC;IAYhC,CAAC;IAEJ,QAAQ;QACN,MAAM,QAAQ,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,IAAI,CACjD,IAAA,UAAG,EAAC,CAAC,QAAQ,EAAE,EAAE;YACf,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,iCACrC,OAAO,KACV,QAAQ,EAAE,KAAK,IACf,CAAC,CAAC;YACJ,OAAO,IAAI,CAAC,QAAQ,CAAC;QACvB,CAAC,CAAC,CACH,CAAC;QACF,IAAI,CAAC,YAAY,GAAG,IAAI,uCAAiB,CAAC,QAAQ,CAAC,CAAC;QACpD,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,IAAA,8BAAc,EAAC,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;YACrE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACL,CAAC;IAED,mBAAmB,CAAC,UAAiC;QACnD,UAAU,CAAC,cAAc,CAAC,IAAI,CAC5B,IAAA,aAAM,EAAC,OAAO,CAAC,EACf,IAAA,8BAAc,EAAC,IAAI,CAAC,CACrB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IACpC,CAAC;IAED,gBAAgB;QACd,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,4DAA2B,CAAC,CAAC;IACnD,CAAC;IAED,QAAQ,CAAC,OAAgB;QACvB,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,qDAA4B,EAAE;YACxE,IAAI,EAAE,EAAE,SAAS,EAAE,oDAAqB,CAAC,MAAM,EAAE,IAAI,EAAE,OAAO,CAAC,EAAE,EAAE;SACpE,CAAC,CAAC;QACH,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;IACvC,CAAC;IAED,OAAO,CAAC,OAAgB;QACtB,MAAM,UAAU,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,qDAA4B,EAAE;YACxE,IAAI,EAAE,EAAE,SAAS,EAAE,oDAAqB,CAAC,KAAK,EAAE,IAAI,EAAE,OAAO,CAAC,EAAE,EAAE;SACnE,CAAC,CAAC;QACH,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,CAAC;IACvC,CAAC;IAED,OAAO;QACL,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;YACzB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC;YACtC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,sBAAsB,CAAC;YACvD,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC;SAClD,CAAC,CAAC,IAAI,CACL,IAAA,aAAM,EAAC,OAAO,CAAC,EACf,IAAA,gBAAS,EAAC,GAAG,EAAE;YACb,OAAO,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC,IAAI,CACxC,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,EACxB,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAC/B,CAAC;QACJ,CAAC,CAAC,EACF,IAAA,8BAAc,EAAC,IAAI,CAAC,CACrB,CAAC,SAAS,CAAC,GAAG,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;IACL,CAAC;IAED,QAAQ,CAAC,QAAqB;QAC5B,QAAQ,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,OAAO,OAAO,CAAC,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,iEAA6B,EAAE;YACjD,IAAI,EAAE,QAAQ,CAAC,MAAM,CACnB,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC,oDAAqB,CAAC,IAAI,EAAE,oDAAqB,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAChG;SACF,CAAC,CAAC,WAAW,EAAE,CAAC,IAAI,CACnB,IAAA,aAAM,EAAC,OAAO,CAAC,EACf,IAAA,8BAAc,EAAC,IAAI,CAAC,CACrB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IACpC,CAAC;IAED,UAAU,CAAC,OAAkB;QAC3B,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;YACzB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAAC;YACzC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,iCAAiC,CAAC;YAClE,UAAU,EAAE,gCAAqB,CAAC,2BAA2B;SAC9D,CAAC,CAAC,IAAI,CACL,IAAA,aAAM,EAAC,OAAO,CAAC,EACf,IAAA,gBAAS,EAAC,GAAG,EAAE;YACb,OAAO,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,kBAAkB,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CACxD,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,EACxB,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAC/B,CAAC;QACJ,CAAC,CAAC,EACF,IAAA,8BAAc,EAAC,IAAI,CAAC,CACrB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;IACpC,CAAC;IAED,UAAU,CAAC,OAAkB;QAC3B,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;gBACzB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC;gBACrC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,6BAA6B,CAAC;gBAC9D,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;aACpD,CAAC,CAAC,IAAI,CACL,IAAA,aAAM,EAAC,OAAO,CAAC,EACf,IAAA,gBAAS,EAAC,GAAG,EAAE;gBACb,OAAO,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAC7E,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,EACxB,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAC/B,CAAC;YACJ,CAAC,CAAC,EACF,IAAA,8BAAc,EAAC,IAAI,CAAC,CACrB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QACpC,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;gBACzB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC;gBACvC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,uCAAuC,CAAC;gBACxE,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,kBAAkB,CAAC;aACvD,CAAC,CAAC,IAAI,CACL,IAAA,aAAM,EAAC,OAAO,CAAC,EACf,IAAA,gBAAS,EAAC,GAAG,EAAE;gBACb,OAAO,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAC9E,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,EACxB,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,CAC/B,CAAC;YACJ,CAAC,CAAC,EACF,IAAA,8BAAc,EAAC,IAAI,CAAC,CACrB,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QACpC,CAAC;IACH,CAAC;IAES,cAAc,CAAC,KAAa;QACpC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE,UAAU,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IACpF,CAAC;IAEO,cAAc;QACpB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC;YAC3B,MAAM,EAAE,CAAC;YACT,SAAS,EAAE,mCAAa,CAAC,IAAI;YAC7B,YAAY,EAAE,SAAS;YACvB,MAAM,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK;SACnC,CAAC,CAAC;IACL,CAAC;IAEO,OAAO;QACb,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;IAC3B,CAAC;;AApRU,oEAA4B;;;;;;;;;;;;uCAA5B,4BAA4B;IA5BxC,IAAA,4BAAY,GAAE;IACd,IAAA,gBAAS,EAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,kDAA4C;QAE5C,eAAe,EAAE,8BAAuB,CAAC,MAAM;QAC/C,SAAS,EAAE;YACT,EAAE,OAAO,EAAE,+CAAgC,EAAE,QAAQ,EAAE,EAAE,kBAAkB,EAAE,IAAI,EAAE,EAAE;SACtF;QACD,UAAU,EAAE,IAAI;QAChB,OAAO,EAAE;YACP,2CAAmB;YACnB,+CAAqB;YACrB,iDAAsB;YACtB,kBAAS;YACT,8BAAa;YACb,uCAAiB;YACjB,mBAAU;YACV,mCAAe;YACf,qCAAgB;YAChB,gDAAqB;YACrB,8CAAoB;YACpB,8CAAoB;YACpB,gDAAqB;YACrB,sBAAe;YACf,kBAAS;SACV;KACF,CAAC;GACW,4BAA4B,CAqRxC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/system/bootenv/bootenv-list/bootenv-list.component.ts"],"sourcesContent":["import { AsyncPipe } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, OnInit } from '@angular/core';\nimport { MatButton } from '@angular/material/button';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS } from '@angular/material/slide-toggle';\nimport { RouterLink } from '@angular/router';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { TranslateService, TranslateModule } from '@ngx-translate/core';\nimport {\n  filter, map, of, switchMap,\n  take,\n} from 'rxjs';\nimport { RequiresRolesDirective } from 'app/directives/requires-roles/requires-roles.directive';\nimport { UiSearchDirective } from 'app/directives/ui-search.directive';\nimport { BootEnvironmentAction } from 'app/enums/boot-environment-action.enum';\nimport { BootEnvironmentActive } from 'app/enums/boot-environment-active.enum';\nimport { Role } from 'app/enums/role.enum';\nimport { helptextSystemBootenv } from 'app/helptext/system/boot-env';\nimport { Bootenv } from 'app/interfaces/bootenv.interface';\nimport { DialogService } from 'app/modules/dialog/dialog.service';\nimport { EmptyService } from 'app/modules/empty/empty.service';\nimport { IxSlideInRef } from 'app/modules/forms/ix-forms/components/ix-slide-in/ix-slide-in-ref';\nimport { SearchInput1Component } from 'app/modules/forms/search-input1/search-input1.component';\nimport { iconMarker } from 'app/modules/ix-icon/icon-marker.util';\nimport { IxIconComponent } from 'app/modules/ix-icon/ix-icon.component';\nimport { AsyncDataProvider } from 'app/modules/ix-table/classes/async-data-provider/async-data-provider';\nimport { IxTableComponent } from 'app/modules/ix-table/components/ix-table/ix-table.component';\nimport { actionsColumn } from 'app/modules/ix-table/components/ix-table-body/cells/ix-cell-actions/ix-cell-actions.component';\nimport { checkboxColumn } from 'app/modules/ix-table/components/ix-table-body/cells/ix-cell-checkbox/ix-cell-checkbox.component';\nimport { dateColumn } from 'app/modules/ix-table/components/ix-table-body/cells/ix-cell-date/ix-cell-date.component';\nimport { sizeColumn } from 'app/modules/ix-table/components/ix-table-body/cells/ix-cell-size/ix-cell-size.component';\nimport { textColumn } from 'app/modules/ix-table/components/ix-table-body/cells/ix-cell-text/ix-cell-text.component';\nimport { yesNoColumn } from 'app/modules/ix-table/components/ix-table-body/cells/ix-cell-yes-no/ix-cell-yes-no.component';\nimport { IxTableBodyComponent } from 'app/modules/ix-table/components/ix-table-body/ix-table-body.component';\nimport { IxTableHeadComponent } from 'app/modules/ix-table/components/ix-table-head/ix-table-head.component';\nimport { IxTablePagerComponent } from 'app/modules/ix-table/components/ix-table-pager/ix-table-pager.component';\nimport { IxTableEmptyDirective } from 'app/modules/ix-table/directives/ix-table-empty.directive';\nimport { SortDirection } from 'app/modules/ix-table/enums/sort-direction.enum';\nimport { createTable } from 'app/modules/ix-table/utils';\nimport { AppLoaderService } from 'app/modules/loader/app-loader.service';\nimport { PageHeaderComponent } from 'app/modules/page-header/page-title-header/page-header.component';\nimport { SnackbarService } from 'app/modules/snackbar/services/snackbar.service';\nimport { TestDirective } from 'app/modules/test-id/test.directive';\nimport { BootPoolDeleteDialogComponent } from 'app/pages/system/bootenv/boot-pool-delete-dialog/boot-pool-delete-dialog.component';\nimport { BootEnvironmentFormComponent } from 'app/pages/system/bootenv/bootenv-form/bootenv-form.component';\nimport { bootListElements } from 'app/pages/system/bootenv/bootenv-list/bootenv-list.elements';\nimport { BootenvStatsDialogComponent } from 'app/pages/system/bootenv/bootenv-stats-dialog/bootenv-stats-dialog.component';\nimport { ErrorHandlerService } from 'app/services/error-handler.service';\nimport { IxSlideInService } from 'app/services/ix-slide-in.service';\nimport { WebSocketService } from 'app/services/ws.service';\n\n// TODO: Exclude AnythingUi when NAS-127632 is done\ninterface BootenvUi extends Bootenv {\n  selected: boolean;\n}\n\n@UntilDestroy()\n@Component({\n  selector: 'ix-bootenv-list',\n  templateUrl: './bootenv-list.component.html',\n  styleUrls: ['./bootenv-list.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    { provide: MAT_SLIDE_TOGGLE_DEFAULT_OPTIONS, useValue: { disableToggleValue: true } },\n  ],\n  standalone: true,\n  imports: [\n    PageHeaderComponent,\n    SearchInput1Component,\n    RequiresRolesDirective,\n    MatButton,\n    TestDirective,\n    UiSearchDirective,\n    RouterLink,\n    IxIconComponent,\n    IxTableComponent,\n    IxTableEmptyDirective,\n    IxTableHeadComponent,\n    IxTableBodyComponent,\n    IxTablePagerComponent,\n    TranslateModule,\n    AsyncPipe,\n  ],\n})\nexport class BootEnvironmentListComponent implements OnInit {\n  readonly requiredRoles = [Role.FullAdmin];\n  protected readonly searchableElements = bootListElements;\n\n  dataProvider: AsyncDataProvider<BootenvUi>;\n  filterString = '';\n\n  columns = createTable<BootenvUi>([\n    checkboxColumn({\n      propertyName: 'selected',\n      onRowCheck: (row, checked) => {\n        this.bootenvs.find((bootenv) => row.id === bootenv.id).selected = checked;\n        this.dataProvider.setRows([]);\n        this.onListFiltered(this.filterString);\n      },\n      onColumnCheck: (checked) => {\n        this.dataProvider.currentPage$.pipe(\n          take(1),\n          untilDestroyed(this),\n        ).subscribe((bootEnvs) => {\n          bootEnvs.forEach((bootEnv) => bootEnv.selected = checked);\n          this.dataProvider.setRows([]);\n          this.onListFiltered(this.filterString);\n        });\n      },\n      cssClass: 'checkboxs-column',\n    }),\n    textColumn({\n      title: this.translate.instant('Name'),\n      propertyName: 'name',\n    }),\n    textColumn({\n      title: this.translate.instant('Active'),\n      propertyName: 'active',\n      getValue: (row) => {\n        switch (row.active) {\n          case BootEnvironmentActive.Now:\n            return this.translate.instant('Now');\n          case BootEnvironmentActive.Restart:\n            return this.translate.instant('Restart');\n          case BootEnvironmentActive.NowReboot:\n            return this.translate.instant('Now/Restart');\n          default:\n            return row.active;\n        }\n      },\n    }),\n    dateColumn({\n      title: this.translate.instant('Date Created'),\n      propertyName: 'created',\n      sortBy: (row) => row.created.$date,\n    }),\n    sizeColumn({\n      title: this.translate.instant('Space'),\n      propertyName: 'rawspace',\n    }),\n    yesNoColumn({\n      title: this.translate.instant('Keep'),\n      propertyName: 'keep',\n      cssClass: 'keep-column',\n    }),\n    actionsColumn({\n      actions: [\n        {\n          iconName: iconMarker('mdi-check-decagram'),\n          requiredRoles: this.requiredRoles,\n          tooltip: this.translate.instant('Activate'),\n          hidden: (row) => of(row.active.includes('R')),\n          onClick: (row) => this.doActivate(row),\n        },\n        {\n          iconName: iconMarker('mdi-content-copy'),\n          requiredRoles: this.requiredRoles,\n          tooltip: this.translate.instant('Clone'),\n          onClick: (row) => this.doClone(row),\n        },\n        {\n          iconName: iconMarker('mdi-rename-box'),\n          requiredRoles: this.requiredRoles,\n          tooltip: this.translate.instant('Rename'),\n          onClick: (row) => this.doRename(row),\n        },\n        {\n          iconName: iconMarker('bookmark'),\n          requiredRoles: this.requiredRoles,\n          tooltip: this.translate.instant('Keep'),\n          hidden: (row) => of(row.keep),\n          onClick: (row) => this.toggleKeep(row),\n        },\n        {\n          iconName: iconMarker('bookmark_border'),\n          requiredRoles: this.requiredRoles,\n          tooltip: this.translate.instant('Unkeep'),\n          hidden: (row) => of(!row.keep),\n          onClick: (row) => this.toggleKeep(row),\n        },\n        {\n          iconName: iconMarker('mdi-delete'),\n          requiredRoles: this.requiredRoles,\n          tooltip: this.translate.instant('Delete'),\n          hidden: (row) => of(![BootEnvironmentActive.Dash, BootEnvironmentActive.Empty].includes(row.active)),\n          onClick: (row) => this.doDelete([row]),\n        },\n      ],\n      cssClass: 'actions-column',\n    }),\n  ], {\n    uniqueRowTag: (row) => `bootenv-${row.name}`,\n    ariaLabels: (row) => [row.name, this.translate.instant('Boot Environment')],\n  });\n\n  get selectedBootenvs(): BootenvUi[] {\n    return this.bootenvs.filter((bootenv) => bootenv.selected);\n  }\n\n  get selectionHasItems(): boolean {\n    return this.selectedBootenvs.some(\n      (bootenv) => [BootEnvironmentActive.Dash, BootEnvironmentActive.Empty].includes(bootenv.active),\n    );\n  }\n\n  private bootenvs: BootenvUi[] = [];\n\n  constructor(\n    private ws: WebSocketService,\n    private matDialog: MatDialog,\n    private translate: TranslateService,\n    private slideInService: IxSlideInService,\n    private loader: AppLoaderService,\n    private dialogService: DialogService,\n    private errorHandler: ErrorHandlerService,\n    private snackbar: SnackbarService,\n    protected emptyService: EmptyService,\n  ) {}\n\n  ngOnInit(): void {\n    const request$ = this.ws.call('bootenv.query').pipe(\n      map((bootenvs) => {\n        this.bootenvs = bootenvs.map((bootenv) => ({\n          ...bootenv,\n          selected: false,\n        }));\n        return this.bootenvs;\n      }),\n    );\n    this.dataProvider = new AsyncDataProvider(request$);\n    this.refresh();\n    this.setDefaultSort();\n    this.dataProvider.emptyType$.pipe(untilDestroyed(this)).subscribe(() => {\n      this.onListFiltered(this.filterString);\n    });\n  }\n\n  handleSlideInClosed(slideInRef: IxSlideInRef<unknown>): void {\n    slideInRef.slideInClosed$.pipe(\n      filter(Boolean),\n      untilDestroyed(this),\n    ).subscribe(() => this.refresh());\n  }\n\n  openBootenvStats(): void {\n    this.matDialog.open(BootenvStatsDialogComponent);\n  }\n\n  doRename(bootenv: Bootenv): void {\n    const slideInRef = this.slideInService.open(BootEnvironmentFormComponent, {\n      data: { operation: BootEnvironmentAction.Rename, name: bootenv.id },\n    });\n    this.handleSlideInClosed(slideInRef);\n  }\n\n  doClone(bootenv: Bootenv): void {\n    const slideInRef = this.slideInService.open(BootEnvironmentFormComponent, {\n      data: { operation: BootEnvironmentAction.Clone, name: bootenv.id },\n    });\n    this.handleSlideInClosed(slideInRef);\n  }\n\n  doScrub(): void {\n    this.dialogService.confirm({\n      title: this.translate.instant('Scrub'),\n      message: this.translate.instant('Start the scrub now?'),\n      buttonText: this.translate.instant('Start Scrub'),\n    }).pipe(\n      filter(Boolean),\n      switchMap(() => {\n        return this.ws.startJob('boot.scrub').pipe(\n          this.loader.withLoader(),\n          this.errorHandler.catchError(),\n        );\n      }),\n      untilDestroyed(this),\n    ).subscribe(() => {\n      this.snackbar.success(this.translate.instant('Scrub Started'));\n    });\n  }\n\n  doDelete(bootenvs: BootenvUi[]): void {\n    bootenvs.forEach((bootenv) => delete bootenv.selected);\n    this.matDialog.open(BootPoolDeleteDialogComponent, {\n      data: bootenvs.filter(\n        (bootenv) => [BootEnvironmentActive.Dash, BootEnvironmentActive.Empty].includes(bootenv.active),\n      ),\n    }).afterClosed().pipe(\n      filter(Boolean),\n      untilDestroyed(this),\n    ).subscribe(() => this.refresh());\n  }\n\n  doActivate(bootenv: BootenvUi): void {\n    this.dialogService.confirm({\n      title: this.translate.instant('Activate'),\n      message: this.translate.instant('Activate this Boot Environment?'),\n      buttonText: helptextSystemBootenv.list_dialog_activate_action,\n    }).pipe(\n      filter(Boolean),\n      switchMap(() => {\n        return this.ws.call('bootenv.activate', [bootenv.id]).pipe(\n          this.loader.withLoader(),\n          this.errorHandler.catchError(),\n        );\n      }),\n      untilDestroyed(this),\n    ).subscribe(() => this.refresh());\n  }\n\n  toggleKeep(bootenv: BootenvUi): void {\n    if (!bootenv.keep) {\n      this.dialogService.confirm({\n        title: this.translate.instant('Keep'),\n        message: this.translate.instant('Keep this Boot Environment?'),\n        buttonText: this.translate.instant('Set Keep Flag'),\n      }).pipe(\n        filter(Boolean),\n        switchMap(() => {\n          return this.ws.call('bootenv.set_attribute', [bootenv.id, { keep: true }]).pipe(\n            this.loader.withLoader(),\n            this.errorHandler.catchError(),\n          );\n        }),\n        untilDestroyed(this),\n      ).subscribe(() => this.refresh());\n    } else {\n      this.dialogService.confirm({\n        title: this.translate.instant('Unkeep'),\n        message: this.translate.instant('No longer keep this Boot Environment?'),\n        buttonText: this.translate.instant('Remove Keep Flag'),\n      }).pipe(\n        filter(Boolean),\n        switchMap(() => {\n          return this.ws.call('bootenv.set_attribute', [bootenv.id, { keep: false }]).pipe(\n            this.loader.withLoader(),\n            this.errorHandler.catchError(),\n          );\n        }),\n        untilDestroyed(this),\n      ).subscribe(() => this.refresh());\n    }\n  }\n\n  protected onListFiltered(query: string): void {\n    this.filterString = query;\n    this.dataProvider.setFilter({ list: this.bootenvs, query, columnKeys: ['name'] });\n  }\n\n  private setDefaultSort(): void {\n    this.dataProvider.setSorting({\n      active: 3,\n      direction: SortDirection.Desc,\n      propertyName: 'created',\n      sortBy: (row) => row.created.$date,\n    });\n  }\n\n  private refresh(): void {\n    this.dataProvider.load();\n  }\n}\n"],"version":3}