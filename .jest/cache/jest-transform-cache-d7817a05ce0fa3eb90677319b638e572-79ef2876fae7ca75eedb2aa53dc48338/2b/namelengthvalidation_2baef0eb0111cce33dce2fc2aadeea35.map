{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/datasets/components/dataset-form/utils/name-length-validation.ts","mappings":";;AAIA,gDAgBC;AAnBD,uEAAiE;AACjE,2FAAiF;AAEjF,SAAgB,kBAAkB,CAAC,UAAkB;IACnD,MAAM,gBAAgB,GAAG,kCAAc,CAAC;IAExC,OAAO,SAAS,0BAA0B,CAAC,OAA4B;QACrE,IAAI,CAAC,OAAO,CAAC,KAAK,IAAI,CAAC,UAAU,EAAE,CAAC;YAClC,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,IAAI,gBAAgB,EAAE,CAAC;YACrE,OAAO;gBACL,CAAC,sDAAsB,CAAC,SAAS,CAAC,EAAE,EAAE,cAAc,EAAE,gBAAgB,GAAG,UAAU,CAAC,MAAM,EAAE;aAC7F,CAAC;QACJ,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;AACJ,CAAC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/datasets/components/dataset-form/utils/name-length-validation.ts"],"sourcesContent":["import { FormControl, ValidatorFn } from '@angular/forms';\nimport { maxDatasetPath } from 'app/constants/dataset.constants';\nimport { DefaultValidationError } from 'app/enums/default-validation-error.enum';\n\nexport function datasetNameTooLong(parentPath: string): ValidatorFn {\n  const maxLengthAllowed = maxDatasetPath;\n\n  return function datasetNameTooLongValidate(control: FormControl<string>) {\n    if (!control.value || !parentPath) {\n      return null;\n    }\n\n    if (parentPath.length + 1 + control.value.length >= maxLengthAllowed) {\n      return {\n        [DefaultValidationError.MaxLength]: { requiredLength: maxLengthAllowed - parentPath.length },\n      };\n    }\n\n    return null;\n  };\n}\n"],"version":3}