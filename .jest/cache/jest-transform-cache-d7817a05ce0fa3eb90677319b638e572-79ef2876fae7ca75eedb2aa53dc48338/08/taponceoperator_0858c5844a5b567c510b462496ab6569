6135ef819b4557159b0f73b49e4ef5e0
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.tapOnce = tapOnce;
const rxjs_1 = require("rxjs");
function tapOnce(fn) {
    return (source$) => (0, rxjs_1.defer)(() => {
        let isFirst = true;
        return source$.pipe((0, rxjs_1.tap)((value) => {
            if (isFirst) {
                fn(value);
                isFirst = false;
            }
        }));
    });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hY2Jvb2sva2FycG92LXdvcmsvVHJ1ZU5BUy93ZWJ1aS9zcmMvYXBwL2hlbHBlcnMvb3BlcmF0b3JzL3RhcC1vbmNlLm9wZXJhdG9yLnRzIiwibWFwcGluZ3MiOiI7O0FBSUEsMEJBYUM7QUFqQkQsK0JBRWM7QUFFZCxTQUFnQixPQUFPLENBQUksRUFBcUI7SUFDOUMsT0FBTyxDQUFDLE9BQXNCLEVBQUUsRUFBRSxDQUFDLElBQUEsWUFBSyxFQUFDLEdBQUcsRUFBRTtRQUM1QyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFFbkIsT0FBTyxPQUFPLENBQUMsSUFBSSxDQUNqQixJQUFBLFVBQUcsRUFBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBQ1osSUFBSSxPQUFPLEVBQUUsQ0FBQztnQkFDWixFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7Z0JBQ1YsT0FBTyxHQUFHLEtBQUssQ0FBQztZQUNsQixDQUFDO1FBQ0gsQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9vay9rYXJwb3Ytd29yay9UcnVlTkFTL3dlYnVpL3NyYy9hcHAvaGVscGVycy9vcGVyYXRvcnMvdGFwLW9uY2Uub3BlcmF0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgT2JzZXJ2YWJsZSwgZGVmZXIsIHRhcCwgTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uLFxufSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHRhcE9uY2U8VD4oZm46ICh2OiBUKSA9PiB1bmtub3duKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgcmV0dXJuIChzb3VyY2UkOiBPYnNlcnZhYmxlPFQ+KSA9PiBkZWZlcigoKSA9PiB7XG4gICAgbGV0IGlzRmlyc3QgPSB0cnVlO1xuXG4gICAgcmV0dXJuIHNvdXJjZSQucGlwZShcbiAgICAgIHRhcCgodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgICBmbih2YWx1ZSk7XG4gICAgICAgICAgaXNGaXJzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICB9KTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==