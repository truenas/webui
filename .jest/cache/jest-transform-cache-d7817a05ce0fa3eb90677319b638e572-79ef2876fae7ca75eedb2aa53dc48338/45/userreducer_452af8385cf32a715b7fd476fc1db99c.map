{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/credentials/users/store/user.reducer.ts","mappings":";;;AAAA,yCAAgE;AAChE,uCAEqB;AAErB,iFAKwD;AACxD,mFAAgF;AAOnE,QAAA,OAAO,GAAG,IAAA,4BAAmB,EAAO;IAC/C,QAAQ,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE;IAC3B,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,QAAQ,CAAC;CAC7D,CAAC,CAAC;AAEU,QAAA,iBAAiB,GAAG,eAAO,CAAC,eAAe,CAAC;IACvD,SAAS,EAAE,KAAK;IAChB,KAAK,EAAE,IAAI;CACZ,CAAC,CAAC;AAEU,QAAA,WAAW,GAAG,IAAA,qBAAa,EACtC,yBAAiB,EAEjB,IAAA,UAAE,EAAC,yCAAmB,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,iCAAM,KAAK,KAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,IAAG,CAAC,EAChF,IAAA,UAAE,EAAC,8BAAe,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,iCAAM,KAAK,KAAE,SAAS,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,IAAG,CAAC,EAC5E,IAAA,UAAE,EAAC,0BAAW,EAAE,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,eAAO,CAAC,MAAM,CAAC,KAAK,kCAAO,KAAK,KAAE,SAAS,EAAE,KAAK,IAAG,CAAC,EAC5F,IAAA,UAAE,EAAC,6BAAc,EAAE,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,CAAC,iCAAM,KAAK,KAAE,KAAK,EAAE,SAAS,EAAE,KAAK,IAAG,CAAC,EAEjF,IAAA,UAAE,EAAC,wBAAS,EAAE,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,eAAO,CAAC,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,EAC/D,IAAA,UAAE,EAAC,0BAAW,EAAE,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,eAAO,CAAC,SAAS,CAAC;IACrD,EAAE,EAAE,IAAI,CAAC,EAAE;IACX,OAAO,EAAE,IAAI;CACd,EAAE,KAAK,CAAC,CAAC,EACV,IAAA,UAAE,EAAC,0BAAW,EAAE,CAAC,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,eAAO,CAAC,SAAS,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CACjE,CAAC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/credentials/users/store/user.reducer.ts"],"sourcesContent":["import { createEntityAdapter, EntityState } from '@ngrx/entity';\nimport {\n  createReducer, on,\n} from '@ngrx/store';\nimport { User } from 'app/interfaces/user.interface';\nimport {\n  userAdded, userChanged,\n  userPageEntered, userRemoved,\n  usersLoaded,\n  usersNotLoaded,\n} from 'app/pages/credentials/users/store/user.actions';\nimport { builtinUsersToggled } from 'app/store/preferences/preferences.actions';\n\nexport interface UsersState extends EntityState<User> {\n  isLoading: boolean;\n  error: string;\n}\n\nexport const adapter = createEntityAdapter<User>({\n  selectId: (user) => user.id,\n  sortComparer: (a, b) => a.username.localeCompare(b.username),\n});\n\nexport const usersInitialState = adapter.getInitialState({\n  isLoading: false,\n  error: null,\n});\n\nexport const userReducer = createReducer(\n  usersInitialState,\n\n  on(builtinUsersToggled, (state) => ({ ...state, isLoading: true, error: null })),\n  on(userPageEntered, (state) => ({ ...state, isLoading: true, error: null })),\n  on(usersLoaded, (state, { users }) => adapter.setAll(users, { ...state, isLoading: false })),\n  on(usersNotLoaded, (state, { error }) => ({ ...state, error, isLoading: false })),\n\n  on(userAdded, (state, { user }) => adapter.addOne(user, state)),\n  on(userChanged, (state, { user }) => adapter.updateOne({\n    id: user.id,\n    changes: user,\n  }, state)),\n  on(userRemoved, (state, { id }) => adapter.removeOne(id, state)),\n);\n"],"version":3}