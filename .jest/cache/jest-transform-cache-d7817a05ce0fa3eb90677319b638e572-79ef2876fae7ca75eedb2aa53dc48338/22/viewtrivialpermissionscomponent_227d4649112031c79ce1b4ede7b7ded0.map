{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/datasets/modules/permissions/components/view-trivial-permissions/view-trivial-permissions.component.ts","mappings":";;;;;;;;;AAAA,wCAA0E;AAC1E,8CAAwE;AACxE,yDAAuD;AAEvD,8IAAyI;AACzI,2HAGqF;AACrF,oIAEuF;AAUhF,IAAM,+BAA+B,GAArC,MAAM,+BAA+B;QAEtC,IAAI,CAAC,IAAoB;QAC3B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;IAC1D,CAAC;IAID,YACU,SAA2B;QAA3B,cAAS,GAAT,SAAS,CAAkB;IAClC,CAAC;IAEI,qBAAqB,CAAC,IAAoB;QAChD,MAAM,WAAW,GAAG,IAAA,0BAAY,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE5C,OAAO;YACL;gBACE,IAAI,EAAE,+CAAmB,CAAC,IAAI;gBAC9B,IAAI,EAAE,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI;gBACtE,WAAW,EAAE,IAAA,gEAA6B,EAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC;aAC9E;YACD;gBACE,IAAI,EAAE,+CAAmB,CAAC,KAAK;gBAC/B,IAAI,EAAE,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK;gBACzE,WAAW,EAAE,IAAA,gEAA6B,EAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC;aAC9E;YACD;gBACE,IAAI,EAAE,+CAAmB,CAAC,KAAK;gBAC/B,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC;gBACrC,WAAW,EAAE,IAAA,gEAA6B,EAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,KAAK,CAAC;aAC9E;SACF,CAAC;IACJ,CAAC;;AAhCU,0EAA+B;;;;;mBACzC,YAAK;;0CADK,+BAA+B;IAR3C,IAAA,gBAAS,EAAC;QACT,QAAQ,EAAE,6BAA6B;QACvC,8DAAsD;QAEtD,eAAe,EAAE,8BAAuB,CAAC,MAAM;QAC/C,UAAU,EAAE,IAAI;QAChB,OAAO,EAAE,CAAC,qDAAwB,EAAE,sBAAe,CAAC;KACrD,CAAC;GACW,+BAA+B,CAiC3C","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/datasets/modules/permissions/components/view-trivial-permissions/view-trivial-permissions.component.ts"],"sourcesContent":["import { ChangeDetectionStrategy, Component, Input } from '@angular/core';\nimport { TranslateService, TranslateModule } from '@ngx-translate/core';\nimport { parseApiMode } from 'app/helpers/mode.helper';\nimport { FileSystemStat } from 'app/interfaces/filesystem-stat.interface';\nimport { PermissionsItemComponent } from 'app/pages/datasets/modules/permissions/components/permissions-item/permissions-item.component';\nimport {\n  PermissionItem,\n  PermissionsItemType,\n} from 'app/pages/datasets/modules/permissions/interfaces/permission-item.interface';\nimport {\n  posixPermissionsToDescription,\n} from 'app/pages/datasets/modules/permissions/utils/permissions-to-description.utils';\n\n@Component({\n  selector: 'ix-view-trivial-permissions',\n  templateUrl: 'view-trivial-permissions.component.html',\n  styleUrls: ['./view-trivial-permissions.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [PermissionsItemComponent, TranslateModule],\n})\nexport class ViewTrivialPermissionsComponent {\n  @Input()\n  set stat(stat: FileSystemStat) {\n    this.permissionItems = this.statToPermissionItems(stat);\n  }\n\n  permissionItems: PermissionItem[];\n\n  constructor(\n    private translate: TranslateService,\n  ) {}\n\n  private statToPermissionItems(stat: FileSystemStat): PermissionItem[] {\n    const permissions = parseApiMode(stat.mode);\n\n    return [\n      {\n        type: PermissionsItemType.User,\n        name: stat.user === null ? 'User - ' + stat.uid.toString() : stat.user,\n        description: posixPermissionsToDescription(this.translate, permissions.owner),\n      },\n      {\n        type: PermissionsItemType.Group,\n        name: stat.group === null ? 'Group - ' + stat.gid.toString() : stat.group,\n        description: posixPermissionsToDescription(this.translate, permissions.group),\n      },\n      {\n        type: PermissionsItemType.Other,\n        name: this.translate.instant('Other'),\n        description: posixPermissionsToDescription(this.translate, permissions.other),\n      },\n    ];\n  }\n}\n"],"version":3}