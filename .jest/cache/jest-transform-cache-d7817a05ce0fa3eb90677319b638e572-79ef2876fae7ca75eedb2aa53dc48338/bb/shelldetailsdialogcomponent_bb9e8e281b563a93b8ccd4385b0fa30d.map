{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/apps/components/shell-details-dialog/shell-details-dialog.component.ts","mappings":";;;;;;;;;AAAA,wCAEuB;AACvB,0CAEwB;AACxB,qDAAyE;AACzE,yDAAqD;AACrD,kGAAuF;AACvF,yFAA+E;AAC/E,uFAAmF;AAQ5E,IAAM,2BAA2B,GAAjC,MAAM,2BAA2B;IAetC,YACkC,IAA4B,EACrD,SAAoD,EACpD,UAA+B,EAC9B,WAAwB;QAHA,SAAI,GAAJ,IAAI,CAAwB;QACrD,cAAS,GAAT,SAAS,CAA2C;QACpD,eAAU,GAAV,UAAU,CAAqB;QAC9B,gBAAW,GAAX,WAAW,CAAa;QAlB1B,cAAS,GAAG,GAAG,CAAC;QAGxB,wBAAmB,GAAG,0CAAgB,CAAC;QACvC,YAAO,GAAa,EAAE,CAAC;QACvB,eAAU,GAA6B,EAAE,CAAC;QAO1C,YAAO,GAAG,IAAI,CAAC;QAQb,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC;QACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;QAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACxB,QAAQ,IAAI,CAAC,UAAU,EAAE,CAAC;YACxB,KAAK,0CAAgB,CAAC,KAAK;gBACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;oBACjC,OAAO,EAAE,CAAC,SAAS,EAAE,kBAAU,CAAC,QAAQ,CAAC;iBAC1C,CAAwC,CAAC;gBAC1C,MAAM;YACR,KAAK,0CAAgB,CAAC,IAAI;gBACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;oBACjC,UAAU,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,kBAAU,CAAC,QAAQ,CAAC;iBAClD,CAAwC,CAAC;gBAC1C,MAAM;QACV,CAAC;IACH,CAAC;IAED,WAAW;QACT,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAC9D,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;IACzB,CAAC;;AAzCU,kEAA2B;;0FAgBnC,aAAM,SAAC,wBAAe;;;;;sCAhBd,2BAA2B;IANvC,IAAA,4BAAY,GAAE;IACd,IAAA,gBAAS,EAAC;QACT,QAAQ,EAAE,yBAAyB;QACnC,0DAAoD;QACpD,eAAe,EAAE,8BAAuB,CAAC,MAAM;KAChD,CAAC;GACW,2BAA2B,CA0CvC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/apps/components/shell-details-dialog/shell-details-dialog.component.ts"],"sourcesContent":["import {\n  ChangeDetectionStrategy, Component, Inject,\n} from '@angular/core';\nimport {\n  FormBuilder, FormControl, FormGroup, Validators,\n} from '@angular/forms';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { UntilDestroy } from '@ngneat/until-destroy';\nimport { ShellDetailsDialogData } from 'app/interfaces/shell-details-dialog.interface';\nimport { ShellDetailsType } from 'app/pages/apps/enum/shell-details-type.enum';\nimport { ApplicationsService } from 'app/pages/apps/services/applications.service';\n\n@UntilDestroy()\n@Component({\n  selector: 'ix-shell-details-dialog',\n  templateUrl: './shell-details-dialog.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ShellDetailsDialogComponent {\n  private tailLines = 500;\n  selectedAppName: string;\n  dialogType: ShellDetailsType;\n  podSelectDialogType = ShellDetailsType;\n  podList: string[] = [];\n  podDetails: Record<string, string[]> = {};\n\n  form: FormGroup<{\n    command?: FormControl<string>;\n    tail_lines?: FormControl<number>;\n  }>;\n  title: string;\n  hasPool = true;\n\n  constructor(\n    @Inject(MAT_DIALOG_DATA) public data: ShellDetailsDialogData,\n    public dialogRef: MatDialogRef<ShellDetailsDialogComponent>,\n    public appService: ApplicationsService,\n    private formBuilder: FormBuilder,\n  ) {\n    this.selectedAppName = data.appName;\n    this.dialogType = data.type;\n    this.title = data.title;\n    switch (this.dialogType) {\n      case ShellDetailsType.Shell:\n        this.form = this.formBuilder.group({\n          command: ['/bin/sh', Validators.required],\n        }) as ShellDetailsDialogComponent['form'];\n        break;\n      case ShellDetailsType.Logs:\n        this.form = this.formBuilder.group({\n          tail_lines: [this.tailLines, Validators.required],\n        }) as ShellDetailsDialogComponent['form'];\n        break;\n    }\n  }\n\n  onPodSelect(): void {\n    this.data.customSubmit(this.form.value, this.selectedAppName);\n    this.dialogRef.close();\n  }\n}\n"],"version":3}