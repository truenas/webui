551197fd587704f0cf8add971281a2a0
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getFieldValue = getFieldValue;
exports.valueOrInherit = valueOrInherit;
const with_inherit_enum_1 = require("app/enums/with-inherit.enum");
const zfs_property_source_enum_1 = require("app/enums/zfs-property-source.enum");
function getFieldValue(property, parent) {
    if (parent) {
        return valueOrInherit(property);
    }
    return property.value;
}
function valueOrInherit(property) {
    if (!property) {
        return undefined;
    }
    if ([zfs_property_source_enum_1.ZfsPropertySource.Default, zfs_property_source_enum_1.ZfsPropertySource.Inherited].includes(property.source)) {
        return with_inherit_enum_1.inherit;
    }
    return property.value;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hY2Jvb2sva2FycG92LXdvcmsvVHJ1ZU5BUy93ZWJ1aS9zcmMvYXBwL3BhZ2VzL2RhdGFzZXRzL2NvbXBvbmVudHMvZGF0YXNldC1mb3JtL3V0aWxzL3pmcy1wcm9wZXJ0eS51dGlscy50cyIsIm1hcHBpbmdzIjoiOztBQUtBLHNDQU1DO0FBRUQsd0NBVUM7QUF2QkQsbUVBQXNEO0FBQ3RELGlGQUF1RTtBQUl2RSxTQUFnQixhQUFhLENBQUksUUFBd0IsRUFBRSxNQUFlO0lBQ3hFLElBQUksTUFBTSxFQUFFLENBQUM7UUFDWCxPQUFPLGNBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQ3hCLENBQUM7QUFFRCxTQUFnQixjQUFjLENBQUksUUFBd0I7SUFDeEQsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ2QsT0FBTyxTQUFTLENBQUM7SUFDbkIsQ0FBQztJQUVELElBQUksQ0FBQyw0Q0FBaUIsQ0FBQyxPQUFPLEVBQUUsNENBQWlCLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ3ZGLE9BQU8sMkJBQU8sQ0FBQztJQUNqQixDQUFDO0lBRUQsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDO0FBQ3hCLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL21hY2Jvb2sva2FycG92LXdvcmsvVHJ1ZU5BUy93ZWJ1aS9zcmMvYXBwL3BhZ2VzL2RhdGFzZXRzL2NvbXBvbmVudHMvZGF0YXNldC1mb3JtL3V0aWxzL3pmcy1wcm9wZXJ0eS51dGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmhlcml0IH0gZnJvbSAnYXBwL2VudW1zL3dpdGgtaW5oZXJpdC5lbnVtJztcbmltcG9ydCB7IFpmc1Byb3BlcnR5U291cmNlIH0gZnJvbSAnYXBwL2VudW1zL3pmcy1wcm9wZXJ0eS1zb3VyY2UuZW51bSc7XG5pbXBvcnQgeyBEYXRhc2V0IH0gZnJvbSAnYXBwL2ludGVyZmFjZXMvZGF0YXNldC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgWmZzUHJvcGVydHkgfSBmcm9tICdhcHAvaW50ZXJmYWNlcy96ZnMtcHJvcGVydHkuaW50ZXJmYWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpZWxkVmFsdWU8VD4ocHJvcGVydHk6IFpmc1Byb3BlcnR5PFQ+LCBwYXJlbnQ6IERhdGFzZXQpOiBUIHwgdHlwZW9mIGluaGVyaXQge1xuICBpZiAocGFyZW50KSB7XG4gICAgcmV0dXJuIHZhbHVlT3JJbmhlcml0KHByb3BlcnR5KTtcbiAgfVxuXG4gIHJldHVybiBwcm9wZXJ0eS52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlT3JJbmhlcml0PFQ+KHByb3BlcnR5OiBaZnNQcm9wZXJ0eTxUPik6IFQgfCB0eXBlb2YgaW5oZXJpdCB7XG4gIGlmICghcHJvcGVydHkpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKFtaZnNQcm9wZXJ0eVNvdXJjZS5EZWZhdWx0LCBaZnNQcm9wZXJ0eVNvdXJjZS5Jbmhlcml0ZWRdLmluY2x1ZGVzKHByb3BlcnR5LnNvdXJjZSkpIHtcbiAgICByZXR1cm4gaW5oZXJpdDtcbiAgfVxuXG4gIHJldHVybiBwcm9wZXJ0eS52YWx1ZTtcbn1cbiJdLCJ2ZXJzaW9uIjozfQ==