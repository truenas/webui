{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/modules/forms/ix-forms/validators/range-validation/range-validation.ts","mappings":";;AAEA,wCA4BC;AAED,gDAEC;AAhCD,SAAgB,cAAc,CAAC,GAAW,EAAE,GAAY;IACtD,OAAO,SAAS,aAAa,CAAC,OAA4B;QACxD,IAAI,KAAK,CAAC;QACV,IAAI,GAAG,KAAK,CAAC,EAAE,CAAC;YACd,KAAK,GAAG,gBAAgB,CAAC;QAC3B,CAAC;aAAM,CAAC;YACN,KAAK,GAAG,YAAY,CAAC;QACvB,CAAC;QAED,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACnB,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC;YAC9B,MAAM,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;YAClC,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;gBACf,IAAI,GAAG,EAAE,CAAC;oBACR,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;wBACf,OAAO,IAAI,CAAC;oBACd,CAAC;gBACH,CAAC;qBAAM,CAAC;oBACN,OAAO,IAAI,CAAC;gBACd,CAAC;YACH,CAAC;QACH,CAAC;QAED,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,UAAU,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;IACnD,CAAC,CAAC;AACJ,CAAC;AAED,SAAgB,kBAAkB;IAChC,OAAO,cAAc,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AAClC,CAAC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/modules/forms/ix-forms/validators/range-validation/range-validation.ts"],"sourcesContent":["import { ValidatorFn, FormControl } from '@angular/forms';\n\nexport function rangeValidator(min: number, max?: number): ValidatorFn {\n  return function rangeValidate(control: FormControl<string>) {\n    let regex;\n    if (min === 0) {\n      regex = /^(0|[1-9]\\d*)$/;\n    } else {\n      regex = /^[1-9]\\d*$/;\n    }\n\n    if (!control.value) {\n      return null;\n    }\n\n    if (regex.test(control.value)) {\n      const num = Number(control.value);\n      if (num >= min) {\n        if (max) {\n          if (num <= max) {\n            return null;\n          }\n        } else {\n          return null;\n        }\n      }\n    }\n\n    return { range: true, rangeValue: { min, max } };\n  };\n}\n\nexport function portRangeValidator(): ValidatorFn {\n  return rangeValidator(1, 65535);\n}\n"],"version":3}