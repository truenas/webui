{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/datasets/components/zvol-form/zvol-form.component.ts","mappings":"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","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/datasets/components/zvol-form/zvol-form.component.ts"],"sourcesContent":["import {\n  ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, OnInit,\n} from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { UntilDestroy, untilDestroyed } from '@ngneat/until-destroy';\nimport { TranslateService } from '@ngx-translate/core';\nimport { map, of } from 'rxjs';\nimport {\n  DatasetRecordSize, DatasetSnapdev, DatasetSync, DatasetType,\n} from 'app/enums/dataset.enum';\nimport { DeduplicationSetting } from 'app/enums/deduplication-setting.enum';\nimport { EncryptionKeyFormat } from 'app/enums/encryption-key-format.enum';\nimport { OnOff } from 'app/enums/on-off.enum';\nimport { Role } from 'app/enums/role.enum';\nimport { inherit } from 'app/enums/with-inherit.enum';\nimport { ZfsPropertySource } from 'app/enums/zfs-property-source.enum';\nimport { helptextZvol } from 'app/helptext/storage/volumes/zvol-form';\nimport { Dataset, DatasetCreate, DatasetUpdate } from 'app/interfaces/dataset.interface';\nimport { Option } from 'app/interfaces/option.interface';\nimport { DialogService } from 'app/modules/dialog/dialog.service';\nimport { IxSlideInRef } from 'app/modules/forms/ix-forms/components/ix-slide-in/ix-slide-in-ref';\nimport { SLIDE_IN_DATA } from 'app/modules/forms/ix-forms/components/ix-slide-in/ix-slide-in.token';\nimport { FormErrorHandlerService } from 'app/modules/forms/ix-forms/services/form-error-handler.service';\nimport { IxFormatterService } from 'app/modules/forms/ix-forms/services/ix-formatter.service';\nimport {\n  forbiddenValues,\n} from 'app/modules/forms/ix-forms/validators/forbidden-values-validation/forbidden-values-validation';\nimport { matchOthersFgValidator } from 'app/modules/forms/ix-forms/validators/password-validation/password-validation';\nimport { SnackbarService } from 'app/modules/snackbar/services/snackbar.service';\nimport { getDatasetLabel } from 'app/pages/datasets/utils/dataset.utils';\nimport { CloudCredentialService } from 'app/services/cloud-credential.service';\nimport { ErrorHandlerService } from 'app/services/error-handler.service';\nimport { WebSocketService } from 'app/services/ws.service';\n\ninterface ZvolFormData {\n  name?: string;\n  comments?: string;\n  volsize?: string | number;\n  force_size?: boolean;\n  sync?: string;\n  compression?: string;\n  deduplication?: string;\n  sparse?: boolean;\n  readonly?: string;\n  volblocksize?: string;\n  snapdev?: string;\n  inherit_encryption?: boolean;\n  encryption?: boolean;\n  encryption_type?: string;\n  generate_key?: boolean;\n  key?: string;\n  passphrase?: string;\n  confirm_passphrase?: string;\n  pbkdf2iters?: number;\n  algorithm?: string;\n  type?: string;\n  encryption_options?: {\n    generate_key?: boolean;\n    pbkdf2iters?: number;\n    algorithm?: string;\n    passphrase?: string;\n    key?: string;\n  };\n}\n\n@UntilDestroy()\n@Component({\n  selector: 'ix-zvol-form',\n  templateUrl: './zvol-form.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [CloudCredentialService],\n})\nexport class ZvolFormComponent implements OnInit {\n  readonly requiredRoles = [Role.DatasetWrite];\n\n  get title(): string {\n    return this.isNew\n      ? this.translate.instant(helptextZvol.zvol_title_add)\n      : this.translate.instant(helptextZvol.zvol_title_edit);\n  }\n\n  readonly helptext = helptextZvol;\n  parentId: string;\n  isNew = true;\n  isLoading = false;\n  inheritEncryptPlaceholder: string = helptextZvol.dataset_form_encryption.inherit_checkbox_placeholder;\n  namesInUse: string[] = [];\n  volBlockSizeWarning: string;\n\n  protected encryptedParent = false;\n  protected encryptionAlgorithm: string;\n  protected passphraseParent = false;\n  protected encryptionType: 'key' | 'passphrase' = 'key';\n  protected inheritEncryption = true;\n  protected generateKey = true;\n  protected minimumRecommendedBlockSize: DatasetRecordSize;\n  protected origVolSize: number;\n  protected origHuman: string | number;\n\n  form = this.formBuilder.group({\n    name: ['', [Validators.required, forbiddenValues(this.namesInUse)]],\n    comments: [''],\n    volsize: ['', Validators.required],\n    force_size: [false],\n    sync: [null as string, Validators.required],\n    compression: [null as string, Validators.required],\n    deduplication: [null as string, Validators.required],\n    sparse: [false],\n    readonly: [null as string, Validators.required],\n    volblocksize: [null as string, Validators.required],\n    snapdev: [DatasetSnapdev.Hidden as string],\n    inherit_encryption: [true],\n    encryption: [true],\n    encryption_type: ['key', Validators.required],\n    generate_key: [true],\n    key: ['', [Validators.required, Validators.minLength(64), Validators.maxLength(64)]],\n    passphrase: ['', [Validators.required, Validators.minLength(8)]],\n    confirm_passphrase: ['', [Validators.required]],\n    pbkdf2iters: [350000, [Validators.required, Validators.min(100000)]],\n    algorithm: ['AES-256-GCM', Validators.required],\n  }, {\n    validators: [\n      matchOthersFgValidator(\n        'confirm_passphrase',\n        ['passphrase'],\n        this.translate.instant('Confirm Passphrase value must match Passphrase'),\n      ),\n    ],\n  });\n\n  syncOptions: Option[] = [\n    { label: this.translate.instant('Standard'), value: DatasetSync.Standard },\n    { label: this.translate.instant('Always'), value: DatasetSync.Always },\n    { label: this.translate.instant('Disabled'), value: DatasetSync.Disabled },\n  ];\n\n  compressionOptions: Option[] = [\n    { label: this.translate.instant('Off'), value: 'OFF' },\n    { label: this.translate.instant('lz4 (recommended)'), value: 'LZ4' },\n    { label: this.translate.instant('zstd (default level, 3)'), value: 'ZSTD' },\n    { label: this.translate.instant('zstd-5 (slow)'), value: 'ZSTD-5' },\n    { label: this.translate.instant('zstd-7 (very slow)'), value: 'ZSTD-7' },\n    { label: this.translate.instant('zstd-fast (default level, 1)'), value: 'ZSTD-FAST' },\n    { label: this.translate.instant('gzip (default level, 6)'), value: 'GZIP' },\n    { label: this.translate.instant('gzip-1 (fastest)'), value: 'GZIP-1' },\n    { label: this.translate.instant('gzip-9 (maximum, slow)'), value: 'GZIP-9' },\n    { label: this.translate.instant('zle (runs of zeros)'), value: 'ZLE' },\n    { label: this.translate.instant('lzjb (legacy, not recommended)'), value: 'LZJB' },\n  ];\n\n  deduplicationOptions: Option[] = [\n    { label: this.translate.instant('On'), value: DeduplicationSetting.On },\n    { label: this.translate.instant('Verify'), value: DeduplicationSetting.Verify },\n    { label: this.translate.instant('Off'), value: DeduplicationSetting.Off },\n  ];\n\n  readonlyOptions: Option[] = [\n    { label: this.translate.instant('On'), value: OnOff.On },\n    { label: this.translate.instant('Off'), value: OnOff.Off },\n  ];\n\n  volblocksizeOptions: Option[] = [\n    { label: '4 KiB', value: '4K' },\n    { label: '8 KiB', value: '8K' },\n    { label: '16 KiB', value: '16K' },\n    { label: '32 KiB', value: '32K' },\n    { label: '64 KiB', value: '64K' },\n    { label: '128 KiB', value: '128K' },\n  ];\n\n  snapdevOptions: Option[] = [\n    { label: this.translate.instant('Visible'), value: DatasetSnapdev.Visible },\n    { label: this.translate.instant('Hidden'), value: DatasetSnapdev.Hidden },\n  ];\n\n  encryptionTypeOptions: Option[] = [\n    { label: this.translate.instant('Key'), value: 'key' },\n    { label: this.translate.instant('Passphrase'), value: 'passphrase' },\n  ];\n\n  readonly syncOptions$ = of(this.syncOptions);\n  readonly compressionOptions$ = of(this.compressionOptions);\n  readonly deduplicationOptions$ = of(this.deduplicationOptions);\n  readonly readonlyOptions$ = of(this.readonlyOptions);\n  readonly volblocksizeOptions$ = of(this.volblocksizeOptions);\n  readonly snapdevOptions$ = of(this.snapdevOptions);\n  readonly encryptionTypeOptions$ = of(this.encryptionTypeOptions);\n\n  readonly algorithmOptions$ = this.ws.call('pool.dataset.encryption_algorithm_choices').pipe(\n    map((algorithms) => Object.keys(algorithms).map((algorithm) => ({ label: algorithm, value: algorithm }))),\n  );\n\n  constructor(\n    public formatter: IxFormatterService,\n    private translate: TranslateService,\n    private formBuilder: FormBuilder,\n    private ws: WebSocketService,\n    private dialogService: DialogService,\n    private cdr: ChangeDetectorRef,\n    private formErrorHandler: FormErrorHandlerService,\n    private errorHandler: ErrorHandlerService,\n    protected snackbar: SnackbarService,\n    private slideInRef: IxSlideInRef<ZvolFormComponent>,\n    @Inject(SLIDE_IN_DATA) private slideInData: { isNew: boolean; parentId: string },\n  ) {\n    this.form.controls.key.disable();\n    this.form.controls.passphrase.disable();\n    this.form.controls.confirm_passphrase.disable();\n    this.form.controls.pbkdf2iters.disable();\n    this.form.controls.algorithm.disable();\n  }\n\n  ngOnInit(): void {\n    this.isNew = this.slideInData.isNew;\n    this.parentId = this.slideInData.parentId;\n    this.zvolFormInit();\n  }\n\n  zvolFormInit(): void {\n    if (this.parentId) {\n      this.setupForm();\n    }\n  }\n\n  setupForm(): void {\n    if (!this.isNew) {\n      this.disableEncryptionFields();\n    }\n\n    this.isLoading = true;\n    this.ws.call('pool.dataset.query', [[['id', '=', this.parentId]]]).pipe(untilDestroyed(this)).subscribe({\n      next: (parents) => {\n        const parent = parents[0];\n        if (parent.encrypted) {\n          this.form.controls.encryption.setValue(true);\n          this.form.controls.encryption.disable();\n        }\n\n        this.namesInUse = parent.children?.map((child) => {\n          return /[^/]*$/.exec(child.name)[0];\n        }) || [];\n\n        this.inheritEncryptionProperties(parent);\n\n        if (!this.isNew) {\n          this.form.controls.name.disable();\n        }\n\n        this.addMinimumBlocksizeWarning();\n\n        this.setReadonlyField(parent);\n\n        if (parent?.type === DatasetType.Filesystem) {\n          this.inheritFileSystemProperties(parent);\n        } else {\n          let parentDatasetId: string | string[] = parent.name.split('/');\n          parentDatasetId.pop();\n          parentDatasetId = parentDatasetId.join('/');\n\n          this.ws.call('pool.dataset.query', [[['id', '=', parentDatasetId]]]).pipe(\n            this.errorHandler.catchError(),\n            untilDestroyed(this),\n          ).subscribe({\n            next: (parentDataset) => {\n              this.form.controls.sparse.disable();\n              this.form.controls.volblocksize.disable();\n\n              this.copyParentProperties(parent);\n              this.inheritSyncSource(parent, parentDataset);\n              this.inheritCompression(parent, parentDataset);\n              this.inheritDeduplication(parent, parentDataset);\n              this.inheritSnapdev(parent, parentDataset);\n\n              this.cdr.markForCheck();\n            },\n            error: (error: unknown): void => {\n              this.dialogService.error(this.errorHandler.parseError(error));\n            },\n          });\n        }\n        this.isLoading = false;\n        this.cdr.markForCheck();\n      },\n      error: (error: unknown): void => {\n        this.dialogService.error(this.errorHandler.parseError(error));\n      },\n    });\n  }\n\n  copyParentProperties(parent: Dataset): void {\n    const volumesize = parent.volsize.parsed;\n\n    // keep track of original volume size data so we can check to see if the user intended to change since\n    // decimal has to be truncated to three decimal places\n    this.origVolSize = volumesize;\n\n    const humansize = this.formatter.convertBytesToHumanReadable(volumesize);\n    this.origHuman = humansize;\n\n    this.form.controls.name.setValue(parent.name);\n    if (parent.comments) {\n      this.form.controls.comments.setValue(parent.comments.value);\n    } else {\n      this.form.controls.comments.setValue('');\n    }\n\n    this.form.controls.volsize.setValue(parent.volsize.rawvalue);\n  }\n\n  disableEncryptionFields(): void {\n    this.setEncryptionFieldsDisabled(true);\n    this.form.controls.encryption.disable();\n    this.form.controls.inherit_encryption.disable();\n  }\n\n  inheritEncryptionProperties(parent: Dataset): void {\n    this.encryptedParent = parent.encrypted;\n    this.encryptionAlgorithm = parent.encryption_algorithm.value;\n\n    this.inheritEncryptPlaceholder = helptextZvol.dataset_form_encryption.inherit_checkbox_notencrypted;\n    if (this.encryptedParent) {\n      if (parent.key_format.value === EncryptionKeyFormat.Passphrase) {\n        this.passphraseParent = true;\n        // if parent is passphrase this dataset cannot be a key type\n        this.encryptionType = 'passphrase';\n        this.form.controls.encryption_type.disable();\n      }\n      this.inheritEncryptPlaceholder = helptextZvol.dataset_form_encryption.inherit_checkbox_encrypted;\n    }\n\n    if (this.isNew) {\n      if (this.encryptedParent && parent.encryption_algorithm) {\n        this.form.controls.algorithm.setValue(parent.encryption_algorithm.value);\n      }\n      this.form.controls.encryption.disable();\n      if (this.passphraseParent) {\n        this.form.controls.encryption_type.setValue('passphrase');\n      }\n      this.setEncryptionFieldsDisabled(true);\n      this.setupEncryptionFieldEvents();\n    }\n  }\n\n  inheritSyncSource(parent: Dataset, parentDataset: Dataset[]): void {\n    const inheritTr = this.translate.instant('Inherit');\n    if (\n      parent.sync.source === ZfsPropertySource.Inherited\n        || parent.sync.source === ZfsPropertySource.Default\n    ) {\n      this.syncOptions.unshift({ label: `${inheritTr} (${parentDataset[0].sync.rawvalue})`, value: parentDataset[0].sync.value });\n    } else {\n      this.syncOptions.unshift({ label: `${inheritTr} (${parentDataset[0].sync.rawvalue})`, value: inherit });\n      this.form.controls.sync.setValue(parent.sync.value);\n    }\n    this.form.controls.sync.setValue(parent.sync.value);\n  }\n\n  inheritFileSystemProperties(parent: Dataset): void {\n    const inheritTr = this.translate.instant('Inherit');\n    this.syncOptions.unshift({ label: `${inheritTr} (${parent.sync.rawvalue})`, value: inherit });\n    this.compressionOptions.unshift({ label: `${inheritTr} (${parent.compression.rawvalue})`, value: inherit });\n    this.deduplicationOptions.unshift({ label: `${inheritTr} (${parent.deduplication.rawvalue})`, value: inherit });\n    this.volblocksizeOptions.unshift({ label: inheritTr, value: inherit });\n    this.snapdevOptions.unshift({ label: `${inheritTr} (${parent.snapdev.rawvalue})`, value: inherit });\n\n    this.form.controls.sync.setValue(inherit);\n    this.form.controls.compression.setValue(inherit);\n    this.form.controls.deduplication.setValue(inherit);\n    this.form.controls.readonly.setValue(inherit);\n    this.form.controls.snapdev.setValue(inherit);\n    this.loadRecommendedBlocksize();\n  }\n\n  inheritCompression(parent: Dataset, parentDataset: Dataset[]): void {\n    const inheritTr = this.translate.instant('Inherit');\n    if (parent.compression.source === ZfsPropertySource.Default) {\n      this.compressionOptions.unshift({ label: `${inheritTr} (${parentDataset[0].compression.rawvalue})`, value: parentDataset[0].compression.value });\n    } else {\n      this.compressionOptions.unshift({ label: `${inheritTr} (${parentDataset[0].compression.rawvalue})`, value: inherit });\n    }\n\n    if (parent.compression.source === ZfsPropertySource.Inherited) {\n      this.form.controls.compression.setValue(inherit);\n    } else {\n      this.form.controls.compression.setValue(parent.compression.value);\n    }\n    if (String(parent.compression.value) === 'GZIP') {\n      this.form.controls.compression.setValue(parent.compression.value + '-6');\n    }\n  }\n\n  inheritDeduplication(parent: Dataset, parentDataset: Dataset[]): void {\n    const inheritTr = this.translate.instant('Inherit');\n    if (\n      parent.deduplication.source === ZfsPropertySource.Inherited\n        || parent.deduplication.source === ZfsPropertySource.Default\n    ) {\n      this.deduplicationOptions.unshift({ label: `${inheritTr} (${parentDataset[0].deduplication.rawvalue})`, value: parentDataset[0].deduplication.value });\n    } else {\n      this.deduplicationOptions.unshift({ label: `${inheritTr} (${parentDataset[0].deduplication.rawvalue})`, value: inherit });\n      this.form.controls.deduplication.setValue(parent.deduplication.value);\n    }\n\n    this.form.controls.deduplication.setValue(parent.deduplication.value);\n  }\n\n  inheritSnapdev(parent: Dataset, parentDataset: Dataset[]): void {\n    const inheritTr = this.translate.instant('Inherit');\n    this.snapdevOptions.unshift({ label: `${inheritTr} (${parentDataset[0].snapdev.rawvalue})`, value: inherit });\n    if (\n      parent.snapdev.source === ZfsPropertySource.Inherited\n        || parent.snapdev.source === ZfsPropertySource.Default\n    ) {\n      this.form.controls.snapdev.setValue(inherit);\n    } else {\n      this.form.controls.snapdev.setValue(parent.snapdev.value);\n    }\n  }\n\n  setupEncryptionFieldEvents(): void {\n    this.form.controls.inherit_encryption.valueChanges\n      .pipe(untilDestroyed(this)).subscribe((inheritEncryption: boolean) => {\n        this.inheritEncryption = inheritEncryption;\n        if (inheritEncryption) {\n          this.setEncryptionFieldsDisabled(true);\n          this.setPassphraseFieldsDisabled(true);\n          this.setKeyFieldsDisabled(true);\n          this.form.controls.encryption.disable();\n        }\n        if (!inheritEncryption) {\n          this.form.controls.encryption_type.enable();\n          this.form.controls.algorithm.enable();\n          if (this.passphraseParent) { // keep it hidden if it passphrase\n            this.form.controls.encryption_type.disable();\n          }\n          if (this.encryptionType === 'key') {\n            this.form.controls.passphrase.disable();\n            this.form.controls.confirm_passphrase.disable();\n            this.form.controls.pbkdf2iters.disable();\n            this.form.controls.generate_key.disable();\n          } else {\n            this.form.controls.passphrase.enable();\n            this.form.controls.confirm_passphrase.enable();\n            this.form.controls.pbkdf2iters.enable();\n            this.form.controls.generate_key.enable();\n          }\n          if (this.encryptedParent) {\n            this.form.controls.encryption.disable();\n          } else {\n            this.form.controls.encryption.enable();\n          }\n        }\n      });\n\n    this.form.controls.encryption.valueChanges\n      .pipe(untilDestroyed(this)).subscribe((encryption: boolean) => {\n        if (this.form.controls.inherit_encryption.value) {\n          return;\n        }\n        if (this.encryptionType === 'key') {\n          this.setEncryptionFieldsDisabled(!encryption);\n        } else if (encryption) {\n          this.form.controls.encryption_type.enable();\n          this.form.controls.algorithm.enable();\n        } else {\n          this.form.controls.encryption_type.disable();\n          this.form.controls.algorithm.disable();\n        }\n        if (this.encryptionType === 'key' && !this.generateKey) {\n          this.setKeyFieldsDisabled(!encryption);\n        }\n        if (this.encryptionType === 'passphrase') {\n          this.setPassphraseFieldsDisabled(!encryption);\n        }\n        if (this.passphraseParent) { // keep this field hidden if parent has a passphrase\n          this.form.controls.encryption_type.disable();\n        }\n      });\n    this.form.controls.encryption_type.valueChanges\n      .pipe(untilDestroyed(this)).subscribe((type: 'key' | 'passphrase') => {\n        this.encryptionType = type;\n        const key = (type === 'key');\n        this.setPassphraseFieldsDisabled(key);\n        if (key) {\n          this.form.controls.generate_key.enable();\n          this.setKeyFieldsDisabled(this.generateKey);\n        } else {\n          this.form.controls.generate_key.disable();\n          this.setKeyFieldsDisabled(true);\n        }\n      });\n    this.form.controls.generate_key.valueChanges\n      .pipe(untilDestroyed(this)).subscribe((generateKey: boolean) => {\n        this.generateKey = generateKey;\n        this.setKeyFieldsDisabled(generateKey);\n      });\n  }\n\n  setEncryptionFieldsDisabled(disabled: boolean): void {\n    if (disabled) {\n      this.form.controls.encryption_type.disable();\n      this.form.controls.generate_key.disable();\n      this.form.controls.algorithm.disable();\n    } else {\n      this.form.controls.encryption_type.enable();\n      this.form.controls.generate_key.enable();\n      this.form.controls.algorithm.enable();\n    }\n  }\n\n  setPassphraseFieldsDisabled(disabled: boolean): void {\n    if (disabled) {\n      this.form.controls.passphrase.disable();\n      this.form.controls.confirm_passphrase.disable();\n      this.form.controls.pbkdf2iters.disable();\n    } else {\n      this.form.controls.passphrase.enable();\n      this.form.controls.confirm_passphrase.enable();\n      this.form.controls.pbkdf2iters.enable();\n    }\n  }\n\n  setKeyFieldsDisabled(disabled: boolean): void {\n    if (disabled) {\n      this.form.controls.key.disable();\n    } else {\n      this.form.controls.key.enable();\n    }\n  }\n\n  sendAsBasicOrAdvanced(data: ZvolFormData): ZvolFormData {\n    data.type = DatasetType.Volume;\n\n    if (!this.isNew) {\n      delete data.name;\n      delete data.volblocksize;\n      delete data.type;\n      delete data.sparse;\n    } else {\n      data.name = this.parentId + '/' + data.name;\n    }\n\n    return data;\n  }\n\n  addSubmit(): void {\n    this.isLoading = true;\n    const data: ZvolFormData = this.sendAsBasicOrAdvanced(this.form.value);\n\n    if (data.sync === inherit) {\n      delete (data.sync);\n    }\n    if (data.compression === inherit) {\n      delete (data.compression);\n    }\n    if (data.deduplication === inherit) {\n      delete (data.deduplication);\n    }\n    if (data.readonly === inherit) {\n      delete (data.readonly);\n    }\n    if (data.volblocksize !== inherit) {\n      let volblocksizeIntegerValue = parseInt(data.volblocksize.match(/[a-zA-Z]+|[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)+/g)[0]);\n\n      if (volblocksizeIntegerValue === 512) {\n        volblocksizeIntegerValue = 512;\n      } else {\n        volblocksizeIntegerValue = volblocksizeIntegerValue * 1024;\n      }\n\n      data.volsize = data.volsize as number;\n      data.volsize = data.volsize + (volblocksizeIntegerValue - data.volsize % volblocksizeIntegerValue);\n    } else {\n      delete (data.volblocksize);\n    }\n\n    // encryption values\n    if (data.inherit_encryption) {\n      delete data.encryption;\n    } else if (data.encryption) {\n      data.encryption_options = {};\n      if (data.encryption_type === 'key') {\n        data.encryption_options.generate_key = data.generate_key;\n        if (!data.generate_key) {\n          data.encryption_options.key = data.key;\n        }\n      } else if (data.encryption_type === 'passphrase') {\n        data.encryption_options.passphrase = data.passphrase;\n        data.encryption_options.pbkdf2iters = data.pbkdf2iters;\n      }\n      data.encryption_options.algorithm = data.algorithm;\n    }\n    delete data.key;\n    delete data.generate_key;\n    delete data.passphrase;\n    delete data.confirm_passphrase;\n    delete data.pbkdf2iters;\n    delete data.encryption_type;\n    delete data.algorithm;\n\n    this.ws.call('pool.dataset.create', [data as DatasetCreate]).pipe(untilDestroyed(this)).subscribe({\n      next: (dataset) => this.handleZvolCreateUpdate(dataset),\n      error: (error: unknown) => {\n        this.isLoading = false;\n        this.formErrorHandler.handleWsFormError(error, this.form);\n        this.cdr.markForCheck();\n      },\n    });\n  }\n\n  editSubmit(): void {\n    this.isLoading = true;\n    this.ws.call('pool.dataset.query', [[['id', '=', this.parentId]]]).pipe(untilDestroyed(this)).subscribe({\n      next: (datasets) => {\n        const data: ZvolFormData = this.sendAsBasicOrAdvanced(this.form.value);\n\n        if (data.inherit_encryption) {\n          delete data.encryption;\n        } else if (data.encryption) {\n          data.encryption_options = {};\n          if (data.encryption_type === 'key') {\n            data.encryption_options.generate_key = data.generate_key;\n            if (!data.generate_key) {\n              data.encryption_options.key = data.key;\n            }\n          } else if (data.encryption_type === 'passphrase') {\n            data.encryption_options.passphrase = data.passphrase;\n            data.encryption_options.pbkdf2iters = data.pbkdf2iters;\n          }\n          data.encryption_options.algorithm = data.algorithm;\n        }\n\n        delete data.inherit_encryption;\n        delete data.key;\n        delete data.generate_key;\n        delete data.passphrase;\n        delete data.confirm_passphrase;\n        delete data.pbkdf2iters;\n        delete data.encryption_type;\n        delete data.algorithm;\n\n        let volblocksizeIntegerValue: number | string = datasets[0].volblocksize.value.match(/[a-zA-Z]+|[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)+/g)[0];\n        volblocksizeIntegerValue = parseInt(volblocksizeIntegerValue, 10);\n        if (volblocksizeIntegerValue === 512) {\n          volblocksizeIntegerValue = 512;\n        } else {\n          volblocksizeIntegerValue = volblocksizeIntegerValue * 1024;\n        }\n        data.volsize = data.volsize as number;\n        if (data.volsize && data.volsize % volblocksizeIntegerValue !== 0) {\n          data.volsize = data.volsize + (volblocksizeIntegerValue - data.volsize % volblocksizeIntegerValue);\n        }\n        let roundedVolSize = datasets[0].volsize.parsed;\n\n        if (datasets[0].volsize.parsed % volblocksizeIntegerValue !== 0) {\n          roundedVolSize = datasets[0].volsize.parsed\n          + (volblocksizeIntegerValue - datasets[0].volsize.parsed % volblocksizeIntegerValue);\n        }\n\n        if (!data.volsize || data.volsize >= roundedVolSize) {\n          this.ws.call('pool.dataset.update', [this.parentId, data as DatasetUpdate]).pipe(untilDestroyed(this)).subscribe({\n            next: (dataset) => this.handleZvolCreateUpdate(dataset),\n            error: (error: unknown) => {\n              this.isLoading = false;\n              this.formErrorHandler.handleWsFormError(error, this.form);\n              this.cdr.markForCheck();\n            },\n          });\n        } else {\n          this.isLoading = false;\n          this.dialogService.error({\n            title: helptextZvol.zvol_save_errDialog.title,\n            message: helptextZvol.zvol_save_errDialog.msg,\n          });\n          this.slideInRef.close(false);\n        }\n      },\n      error: (error: unknown): void => {\n        this.dialogService.error(this.errorHandler.parseError(error));\n        this.isLoading = false;\n        this.cdr.markForCheck();\n      },\n    });\n  }\n\n  onSubmit(): void {\n    if (this.isNew) {\n      this.addSubmit();\n    } else {\n      this.editSubmit();\n    }\n  }\n\n  private loadRecommendedBlocksize(): void {\n    const root = this.parentId.split('/')[0];\n    this.ws.call('pool.dataset.recommended_zvol_blocksize', [root]).pipe(\n      this.errorHandler.catchError(),\n      untilDestroyed(this),\n    ).subscribe((recommendedSize) => {\n      this.form.controls.volblocksize.setValue(recommendedSize);\n      this.minimumRecommendedBlockSize = recommendedSize;\n    });\n  }\n\n  private addMinimumBlocksizeWarning(): void {\n    this.form.controls.volblocksize.valueChanges\n      .pipe(untilDestroyed(this)).subscribe((recordSize: DatasetRecordSize) => {\n        const currentSize = this.formatter.convertHumanStringToNum(recordSize);\n        const minimumRecommendedSize = this.formatter.convertHumanStringToNum(this.minimumRecommendedBlockSize);\n        if (!currentSize || !minimumRecommendedSize || currentSize >= minimumRecommendedSize) {\n          this.volBlockSizeWarning = null;\n          return;\n        }\n\n        this.volBlockSizeWarning = `${this.translate.instant(helptextZvol.blocksize_warning.a)} ${this.minimumRecommendedBlockSize}. ${this.translate.instant(helptextZvol.blocksize_warning.b)}`;\n      });\n  }\n\n  private setReadonlyField(parent: Dataset): void {\n    this.readonlyOptions.unshift({\n      label: `${this.translate.instant('Inherit')} (${parent.readonly.rawvalue})`,\n      value: inherit,\n    });\n\n    let readonlyValue;\n    if (this.isNew) {\n      readonlyValue = inherit;\n    } else {\n      readonlyValue = parent.readonly.value;\n      if (\n        parent.readonly.source === ZfsPropertySource.Default\n        || parent.readonly.source === ZfsPropertySource.Inherited\n      ) {\n        readonlyValue = inherit;\n      }\n    }\n    this.form.controls.readonly.setValue(readonlyValue);\n  }\n\n  private handleZvolCreateUpdate(dataset: Dataset): void {\n    this.isLoading = false;\n    this.slideInRef.close(dataset);\n\n    this.snackbar.success(\n      this.isNew\n        ? this.translate.instant('Switched to new zvol «{name}».', { name: getDatasetLabel(dataset) })\n        : this.translate.instant('Zvol «{name}» updated.', { name: getDatasetLabel(dataset) }),\n    );\n  }\n}\n"],"version":3}