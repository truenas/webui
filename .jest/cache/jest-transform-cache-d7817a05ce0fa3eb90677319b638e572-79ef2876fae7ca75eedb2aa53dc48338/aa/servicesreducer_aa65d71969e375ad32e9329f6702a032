6d787a3b14cf608245a160c3491cc408
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.servicesReducer = exports.initialState = exports.adapter = void 0;
const entity_1 = require("@ngrx/entity");
const store_1 = require("@ngrx/store");
const service_name_enum_1 = require("app/enums/service-name.enum");
const services_actions_1 = require("app/store/services/services.actions");
exports.adapter = (0, entity_1.createEntityAdapter)({
    selectId: (service) => service.id,
    sortComparer: (a, b) => service_name_enum_1.serviceNames.get(a.service).localeCompare(service_name_enum_1.serviceNames.get(b.service)),
});
exports.initialState = exports.adapter.getInitialState({
    areLoaded: false,
});
exports.servicesReducer = (0, store_1.createReducer)(exports.initialState, (0, store_1.on)(services_actions_1.servicesLoaded, (state, { services }) => exports.adapter.setAll(services, Object.assign(Object.assign({}, state), { areLoaded: true }))), (0, store_1.on)(services_actions_1.serviceChanged, (state, { service }) => exports.adapter.updateOne({
    id: service.id,
    changes: service,
}, state)));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hY2Jvb2sva2FycG92LXdvcmsvVHJ1ZU5BUy93ZWJ1aS9zcmMvYXBwL3N0b3JlL3NlcnZpY2VzL3NlcnZpY2VzLnJlZHVjZXIudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEseUNBQWdFO0FBQ2hFLHVDQUFnRDtBQUNoRCxtRUFBMkQ7QUFFM0QsMEVBQXFGO0FBTXhFLFFBQUEsT0FBTyxHQUFHLElBQUEsNEJBQW1CLEVBQVU7SUFDbEQsUUFBUSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUNqQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxnQ0FBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsYUFBYSxDQUFDLGdDQUFZLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQztDQUMvRixDQUFDLENBQUM7QUFFVSxRQUFBLFlBQVksR0FBa0IsZUFBTyxDQUFDLGVBQWUsQ0FBQztJQUNqRSxTQUFTLEVBQUUsS0FBSztDQUNqQixDQUFDLENBQUM7QUFFVSxRQUFBLGVBQWUsR0FBRyxJQUFBLHFCQUFhLEVBQzFDLG9CQUFZLEVBRVosSUFBQSxVQUFFLEVBQUMsaUNBQWMsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLEVBQUUsQ0FBQyxlQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsa0NBQU8sS0FBSyxLQUFFLFNBQVMsRUFBRSxJQUFJLElBQUcsQ0FBQyxFQUNwRyxJQUFBLFVBQUUsRUFBQyxpQ0FBYyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxDQUFDLGVBQU8sQ0FBQyxTQUFTLENBQUM7SUFDM0QsRUFBRSxFQUFFLE9BQU8sQ0FBQyxFQUFFO0lBQ2QsT0FBTyxFQUFFLE9BQU87Q0FDakIsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUNYLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL21hY2Jvb2sva2FycG92LXdvcmsvVHJ1ZU5BUy93ZWJ1aS9zcmMvYXBwL3N0b3JlL3NlcnZpY2VzL3NlcnZpY2VzLnJlZHVjZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW50aXR5U3RhdGUsIGNyZWF0ZUVudGl0eUFkYXB0ZXIgfSBmcm9tICdAbmdyeC9lbnRpdHknO1xuaW1wb3J0IHsgY3JlYXRlUmVkdWNlciwgb24gfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBzZXJ2aWNlTmFtZXMgfSBmcm9tICdhcHAvZW51bXMvc2VydmljZS1uYW1lLmVudW0nO1xuaW1wb3J0IHsgU2VydmljZSB9IGZyb20gJ2FwcC9pbnRlcmZhY2VzL3NlcnZpY2UuaW50ZXJmYWNlJztcbmltcG9ydCB7IHNlcnZpY2VDaGFuZ2VkLCBzZXJ2aWNlc0xvYWRlZCB9IGZyb20gJ2FwcC9zdG9yZS9zZXJ2aWNlcy9zZXJ2aWNlcy5hY3Rpb25zJztcblxuZXhwb3J0IGludGVyZmFjZSBTZXJ2aWNlc1N0YXRlIGV4dGVuZHMgRW50aXR5U3RhdGU8U2VydmljZT4ge1xuICBhcmVMb2FkZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBhZGFwdGVyID0gY3JlYXRlRW50aXR5QWRhcHRlcjxTZXJ2aWNlPih7XG4gIHNlbGVjdElkOiAoc2VydmljZSkgPT4gc2VydmljZS5pZCxcbiAgc29ydENvbXBhcmVyOiAoYSwgYikgPT4gc2VydmljZU5hbWVzLmdldChhLnNlcnZpY2UpLmxvY2FsZUNvbXBhcmUoc2VydmljZU5hbWVzLmdldChiLnNlcnZpY2UpKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlOiBTZXJ2aWNlc1N0YXRlID0gYWRhcHRlci5nZXRJbml0aWFsU3RhdGUoe1xuICBhcmVMb2FkZWQ6IGZhbHNlLFxufSk7XG5cbmV4cG9ydCBjb25zdCBzZXJ2aWNlc1JlZHVjZXIgPSBjcmVhdGVSZWR1Y2VyKFxuICBpbml0aWFsU3RhdGUsXG5cbiAgb24oc2VydmljZXNMb2FkZWQsIChzdGF0ZSwgeyBzZXJ2aWNlcyB9KSA9PiBhZGFwdGVyLnNldEFsbChzZXJ2aWNlcywgeyAuLi5zdGF0ZSwgYXJlTG9hZGVkOiB0cnVlIH0pKSxcbiAgb24oc2VydmljZUNoYW5nZWQsIChzdGF0ZSwgeyBzZXJ2aWNlIH0pID0+IGFkYXB0ZXIudXBkYXRlT25lKHtcbiAgICBpZDogc2VydmljZS5pZCxcbiAgICBjaGFuZ2VzOiBzZXJ2aWNlLFxuICB9LCBzdGF0ZSkpLFxuKTtcbiJdLCJ2ZXJzaW9uIjozfQ==