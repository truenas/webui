{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/datasets/modules/permissions/utils/posix-ace-to-permission-item.utils.ts","mappings":";;AAYA,4DA8BC;AAzCD,6DAA0E;AAE1E,2HAGqF;AACrF,oHAAwG;AACxG,oIAEuF;AAEvF,SAAgB,wBAAwB,CAAC,SAA2B,EAAE,GAAiB;IACrF,IAAI,IAAI,GAAG,SAAS,CAAC,OAAO,CAAC,kCAAiB,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IAC7D,IAAI,GAAG,CAAC,OAAO,EAAE,CAAC;QAChB,IAAI,GAAG,GAAG,IAAI,MAAM,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;IACrD,CAAC;IAED,IAAI,IAAyB,CAAC;IAC9B,QAAQ,GAAG,CAAC,GAAG,EAAE,CAAC;QAChB,KAAK,4BAAW,CAAC,IAAI,CAAC;QACtB,KAAK,4BAAW,CAAC,UAAU;YACzB,IAAI,GAAG,+CAAmB,CAAC,IAAI,CAAC;YAChC,IAAI,GAAG,GAAG,IAAI,MAAM,IAAA,0CAAe,EAAC,GAAG,CAAC,EAAE,CAAC;YAC3C,MAAM;QACR,KAAK,4BAAW,CAAC,KAAK,CAAC;QACvB,KAAK,4BAAW,CAAC,WAAW;YAC1B,IAAI,GAAG,+CAAmB,CAAC,KAAK,CAAC;YACjC,IAAI,GAAG,GAAG,IAAI,MAAM,IAAA,0CAAe,EAAC,GAAG,CAAC,EAAE,CAAC;YAC3C,MAAM;QACR,KAAK,4BAAW,CAAC,IAAI;YACnB,IAAI,GAAG,+CAAmB,CAAC,KAAK,CAAC;YACjC,MAAM;QACR;YACE,IAAI,GAAG,+CAAmB,CAAC,KAAK,CAAC;IACrC,CAAC;IAED,OAAO;QACL,IAAI;QACJ,IAAI;QACJ,WAAW,EAAE,IAAA,gEAA6B,EAAC,SAAS,EAAE,GAAG,CAAC,KAAK,CAAC;KACjE,CAAC;AACJ,CAAC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/pages/datasets/modules/permissions/utils/posix-ace-to-permission-item.utils.ts"],"sourcesContent":["import { TranslateService } from '@ngx-translate/core';\nimport { PosixAclTag, posixAclTagLabels } from 'app/enums/posix-acl.enum';\nimport { PosixAclItem } from 'app/interfaces/acl.interface';\nimport {\n  PermissionItem,\n  PermissionsItemType,\n} from 'app/pages/datasets/modules/permissions/interfaces/permission-item.interface';\nimport { getAceWhoString } from 'app/pages/datasets/modules/permissions/utils/get-ace-who-string.utils';\nimport {\n  posixPermissionsToDescription,\n} from 'app/pages/datasets/modules/permissions/utils/permissions-to-description.utils';\n\nexport function posixAceToPermissionItem(translate: TranslateService, ace: PosixAclItem): PermissionItem {\n  let name = translate.instant(posixAclTagLabels.get(ace.tag));\n  if (ace.default) {\n    name = `${name} – ${translate.instant('default')}`;\n  }\n\n  let type: PermissionsItemType;\n  switch (ace.tag) {\n    case PosixAclTag.User:\n    case PosixAclTag.UserObject:\n      type = PermissionsItemType.User;\n      name = `${name} – ${getAceWhoString(ace)}`;\n      break;\n    case PosixAclTag.Group:\n    case PosixAclTag.GroupObject:\n      type = PermissionsItemType.Group;\n      name = `${name} – ${getAceWhoString(ace)}`;\n      break;\n    case PosixAclTag.Mask:\n      type = PermissionsItemType.Group;\n      break;\n    default:\n      type = PermissionsItemType.Other;\n  }\n\n  return {\n    type,\n    name,\n    description: posixPermissionsToDescription(translate, ace.perms),\n  };\n}\n"],"version":3}