{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/setup-jest.ts","mappings":"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","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/setup-jest.ts"],"sourcesContent":["import 'jest-preset-angular/setup-jest';\nimport { HighContrastModeDetector } from '@angular/cdk/a11y';\nimport { APP_BASE_HREF } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MATERIAL_SANITY_CHECKS, MatNativeDateModule } from '@angular/material/core';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatListModule } from '@angular/material/list';\nimport { MatMenuModule } from '@angular/material/menu';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { RouterModule } from '@angular/router';\nimport { defineGlobalsInjections } from '@ngneat/spectator';\nimport { mockProvider } from '@ngneat/spectator/jest';\nimport { EffectsModule } from '@ngrx/effects';\nimport { StoreModule } from '@ngrx/store';\nimport {\n  MissingTranslationHandler, TranslateCompiler, TranslateLoader, TranslateModule, TranslateFakeLoader,\n} from '@ngx-translate/core';\nimport failOnConsole from 'jest-fail-on-console';\nimport { MockProvider } from 'ng-mocks';\nimport { TranslateMessageFormatCompiler } from 'ngx-translate-messageformat-compiler';\nimport {\n  Observable,\n} from 'rxjs';\nimport { IcuMissingTranslationHandler } from 'app/core/classes/icu-missing-translation-handler';\nimport { EmptyAuthService } from 'app/core/testing/utils/empty-auth.service';\nimport { EmptyWebsocketService } from 'app/core/testing/utils/empty-ws.service';\nimport { RequiresRolesDirective } from 'app/directives/requires-roles/requires-roles.directive';\nimport { UiSearchDirective } from 'app/directives/ui-search.directive';\nimport { WINDOW } from 'app/helpers/window.helper';\nimport { FormActionsComponent } from 'app/modules/forms/ix-forms/components/form-actions/form-actions.component';\nimport {\n  IxButtonGroupComponent,\n} from 'app/modules/forms/ix-forms/components/ix-button-group/ix-button-group.component';\nimport { IxCheckboxComponent } from 'app/modules/forms/ix-forms/components/ix-checkbox/ix-checkbox.component';\nimport {\n  IxCheckboxListComponent,\n} from 'app/modules/forms/ix-forms/components/ix-checkbox-list/ix-checkbox-list.component';\nimport { IxChipsComponent } from 'app/modules/forms/ix-forms/components/ix-chips/ix-chips.component';\nimport { IxComboboxComponent } from 'app/modules/forms/ix-forms/components/ix-combobox/ix-combobox.component';\nimport { IxErrorsComponent } from 'app/modules/forms/ix-forms/components/ix-errors/ix-errors.component';\nimport { IxExplorerComponent } from 'app/modules/forms/ix-forms/components/ix-explorer/ix-explorer.component';\nimport { IxFieldsetComponent } from 'app/modules/forms/ix-forms/components/ix-fieldset/ix-fieldset.component';\nimport { IxFileInputComponent } from 'app/modules/forms/ix-forms/components/ix-file-input/ix-file-input.component';\nimport { IxIconGroupComponent } from 'app/modules/forms/ix-forms/components/ix-icon-group/ix-icon-group.component';\nimport { IxInputComponent } from 'app/modules/forms/ix-forms/components/ix-input/ix-input.component';\nimport { IxLabelComponent } from 'app/modules/forms/ix-forms/components/ix-label/ix-label.component';\nimport { IxListItemComponent } from 'app/modules/forms/ix-forms/components/ix-list/ix-list-item/ix-list-item.component';\nimport { IxListComponent } from 'app/modules/forms/ix-forms/components/ix-list/ix-list.component';\nimport { IxRadioGroupComponent } from 'app/modules/forms/ix-forms/components/ix-radio-group/ix-radio-group.component';\nimport { IxSelectComponent } from 'app/modules/forms/ix-forms/components/ix-select/ix-select.component';\nimport {\n  IxModalHeaderComponent,\n} from 'app/modules/forms/ix-forms/components/ix-slide-in/components/ix-modal-header/ix-modal-header.component';\nimport {\n  IxModalHeader2Component,\n} from 'app/modules/forms/ix-forms/components/ix-slide-in/components/ix-modal-header2/ix-modal-header2.component';\nimport {\n  IxSlideToggleComponent,\n} from 'app/modules/forms/ix-forms/components/ix-slide-toggle/ix-slide-toggle.component';\nimport { IxTextareaComponent } from 'app/modules/forms/ix-forms/components/ix-textarea/ix-textarea.component';\nimport { IxWarningComponent } from 'app/modules/forms/ix-forms/components/ix-warning/ix-warning.component';\nimport { IxIconTestingModule } from 'app/modules/ix-icon/ix-icon-testing.module';\nimport { IxIconComponent } from 'app/modules/ix-icon/ix-icon.component';\nimport { IxTableComponent } from 'app/modules/ix-table/components/ix-table/ix-table.component';\nimport { IxTableBodyComponent } from 'app/modules/ix-table/components/ix-table-body/ix-table-body.component';\nimport { IxTableHeadComponent } from 'app/modules/ix-table/components/ix-table-head/ix-table-head.component';\nimport { IxTablePagerComponent } from 'app/modules/ix-table/components/ix-table-pager/ix-table-pager.component';\nimport { IxTableEmptyDirective } from 'app/modules/ix-table/directives/ix-table-empty.directive';\nimport { AppLoaderService } from 'app/modules/loader/app-loader.service';\nimport {\n  WithLoadingStateDirective,\n} from 'app/modules/loader/directives/with-loading-state/with-loading-state.directive';\nimport { SnackbarModule } from 'app/modules/snackbar/snackbar.module';\nimport { TestOverrideDirective } from 'app/modules/test-id/test-override/test-override.directive';\nimport { TestDirective } from 'app/modules/test-id/test.directive';\nimport { AuthService } from 'app/services/auth/auth.service';\nimport { ErrorHandlerService } from 'app/services/error-handler.service';\nimport { WebSocketService } from 'app/services/ws.service';\n\nfailOnConsole();\n\njest.setTimeout(30 * 1000);\n\ndefineGlobalsInjections({\n  imports: [\n    HttpClientModule,\n    MatCheckboxModule,\n    MatSlideToggleModule,\n    MatMenuModule,\n    IxIconComponent,\n    IxIconTestingModule,\n    MatDatepickerModule,\n    MatNativeDateModule,\n    MatSelectModule,\n    MatDialogModule,\n    MatSortModule,\n    MatProgressBarModule,\n    MatTooltipModule,\n    MatCardModule,\n    MatListModule,\n    MatToolbarModule,\n    MatBadgeModule,\n    MatExpansionModule,\n    MatProgressSpinnerModule,\n    MatButtonModule,\n    IxInputComponent,\n    IxCheckboxComponent,\n    IxRadioGroupComponent,\n    IxSelectComponent,\n    IxFieldsetComponent,\n    IxModalHeaderComponent,\n    IxModalHeader2Component,\n    IxButtonGroupComponent,\n    IxExplorerComponent,\n    IxFileInputComponent,\n    IxTextareaComponent,\n    IxSlideToggleComponent,\n    IxIconGroupComponent,\n    IxChipsComponent,\n    IxComboboxComponent,\n    IxListComponent,\n    IxListItemComponent,\n    IxErrorsComponent,\n    IxLabelComponent,\n    IxWarningComponent,\n    IxCheckboxListComponent,\n    FormActionsComponent,\n    RouterModule.forRoot([]),\n    SnackbarModule,\n    UiSearchDirective,\n    RequiresRolesDirective,\n    IxTableComponent,\n    IxTablePagerComponent,\n    IxTableEmptyDirective,\n    IxTableHeadComponent,\n    IxTableBodyComponent,\n    TestDirective,\n    TestOverrideDirective,\n    WithLoadingStateDirective,\n    TranslateModule.forRoot({\n      defaultLanguage: 'en',\n      loader: {\n        provide: TranslateLoader,\n        useClass: TranslateFakeLoader,\n      },\n      compiler: {\n        provide: TranslateCompiler,\n        useClass: TranslateMessageFormatCompiler,\n      },\n      missingTranslationHandler: {\n        provide: MissingTranslationHandler,\n        useClass: IcuMissingTranslationHandler,\n      },\n      useDefaultLang: false,\n    }),\n    StoreModule.forRoot({}),\n    EffectsModule.forRoot([]),\n  ],\n  providers: [\n    MockProvider(HighContrastModeDetector),\n    {\n      provide: APP_BASE_HREF,\n      useValue: '',\n    },\n    {\n      provide: MATERIAL_SANITY_CHECKS,\n      useValue: false,\n    },\n    {\n      provide: WINDOW,\n      // eslint-disable-next-line no-restricted-globals\n      useValue: window,\n    },\n    mockProvider(AppLoaderService, {\n      withLoader: () => (source$: Observable<unknown>) => source$,\n    }),\n    mockProvider(ErrorHandlerService, {\n      catchError: () => (source$: Observable<unknown>) => source$,\n    }),\n    {\n      provide: AuthService,\n      useClass: EmptyAuthService,\n    },\n    {\n      provide: WebSocketService,\n      useClass: EmptyWebsocketService,\n    },\n  ],\n});\n\nbeforeEach(() => {\n  // eslint-disable-next-line no-restricted-globals\n  Object.defineProperty(window, 'matchMedia', {\n    writable: true,\n    value: jest.fn().mockImplementation((query: unknown) => ({\n      matches: false,\n      media: query,\n      onchange: null,\n      addListener: jest.fn(),\n      removeListener: jest.fn(),\n      addEventListener: jest.fn(),\n      removeEventListener: jest.fn(),\n      dispatchEvent: jest.fn(),\n    })),\n  });\n\n  // eslint-disable-next-line no-restricted-globals\n  Object.defineProperty(window, 'ResizeObserver', {\n    writable: true,\n    value: jest.fn().mockImplementation(() => ({\n      disconnect: jest.fn(),\n      observe: jest.fn(),\n      unobserve: jest.fn(),\n    })),\n  });\n});\n\n// https://github.com/jsdom/jsdom/issues/3002\nRange.prototype.getBoundingClientRect = () => ({\n  bottom: 0,\n  height: 0,\n  left: 0,\n  right: 0,\n  top: 0,\n  width: 0,\n} as DOMRect);\nRange.prototype.getClientRects = () => ({\n  item: () => null,\n  length: 0,\n  [Symbol.iterator]: jest.fn(),\n});\n\n// eslint-disable-next-line no-restricted-globals\nObject.defineProperty(window.URL, 'createObjectURL', { value: () => '' });\n\nObject.defineProperty(global, 'performance', {\n  writable: true,\n  value: {\n    mark: () => {},\n    measure: () => {},\n  },\n});\n"],"version":3}