{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/modules/forms/ix-forms/validators/at-least-one-validation.ts","mappings":";;AAEA,gCAiCC;AAjCD,SAAgB,UAAU,CAAC,gBAAwB,EAAE,gBAAkC;IACrF,IAAI,WAA+B,CAAC;IACpC,IAAI,YAAgC,CAAC;IAErC,OAAO,SAAS,kBAAkB,CAAC,OAA2B;QAC5D,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;YACpB,OAAO,IAAI,CAAC;QACd,CAAC;QAED,8BAA8B;QAC9B,IAAI,CAAC,WAAW,EAAE,CAAC;YACjB,WAAW,GAAG,OAAO,CAAC;YACtB,YAAY,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,gBAAgB,CAAuB,CAAC;YAC1E,IAAI,CAAC,YAAY,EAAE,CAAC;gBAClB,MAAM,IAAI,KAAK,CACb,mEAAmE,CACpE,CAAC;YACJ,CAAC;YACD,YAAY,CAAC,YAAY,CAAC,SAAS,CACjC,GAAG,EAAE,GAAG,WAAW,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC,CAChD,CAAC;QACJ,CAAC;QAED,IAAI,CAAC,YAAY,EAAE,CAAC;YAClB,OAAO,IAAI,CAAC;QACd,CAAC;QAED,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YAC9C,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE,gBAAgB,EAAE,CAAC;QACxD,CAAC;QAED,OAAO,IAAI,CAAC;IACd,CAAC,CAAC;AACJ,CAAC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/modules/forms/ix-forms/validators/at-least-one-validation.ts"],"sourcesContent":["import { UntypedFormControl, ValidatorFn } from '@angular/forms';\n\nexport function atLeastOne(otherControlName: string, fieldPlacehoders: [string, string]): ValidatorFn {\n  let thisControl: UntypedFormControl;\n  let otherControl: UntypedFormControl;\n\n  return function atLeastOneHasValue(control: UntypedFormControl) {\n    if (!control.parent) {\n      return null;\n    }\n\n    // Initializing the validator.\n    if (!thisControl) {\n      thisControl = control;\n      otherControl = control.parent.get(otherControlName) as UntypedFormControl;\n      if (!otherControl) {\n        throw new Error(\n          'matchOtherValidator(): other control is not found in parent group',\n        );\n      }\n      otherControl.valueChanges.subscribe(\n        () => { thisControl.updateValueAndValidity(); },\n      );\n    }\n\n    if (!otherControl) {\n      return null;\n    }\n\n    if (!otherControl.value && !thisControl.value) {\n      return { atLeastOne: true, fields: fieldPlacehoders };\n    }\n\n    return null;\n  };\n}\n"],"version":3}