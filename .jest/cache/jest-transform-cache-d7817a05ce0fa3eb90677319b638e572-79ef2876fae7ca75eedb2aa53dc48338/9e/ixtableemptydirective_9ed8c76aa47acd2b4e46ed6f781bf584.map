{"file":"/Users/macbook/karpov-work/TrueNAS/webui/src/app/modules/ix-table/directives/ix-table-empty.directive.ts","mappings":";;;;;;;;;AAAA,wCAEuB;AACvB,yDAAqD;AACrD,+DAAsD;AAEtD,gHAA+G;AAOxG,IAAM,qBAAqB,GAA3B,MAAM,qBAAqB;IAIhC,YACU,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;QAF5C,iBAAY,GAA2C,IAAI,CAAC;IAGxD,CAAC;IAEL,eAAe;QACb,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,WAAW;QACT,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC;IAED,oBAAoB;;QAClB,IAAI,IAAI,CAAC,YAAY,IAAI,CAAA,MAAA,IAAI,CAAC,WAAW,0CAAE,IAAI,MAAK,2BAAS,CAAC,OAAO,EAAE,CAAC;YACtE,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC/B,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC7B,CAAC;IACH,CAAC;IAED,mBAAmB;;QACjB,MAAA,IAAI,CAAC,YAAY,0CAAE,OAAO,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED,qBAAqB;;QACnB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,iDAAwB,CAAC,CAAC;QACtF,CAAC;QACD,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;YACrB,MAAA,IAAI,CAAC,YAAY,0CAAE,QAAQ,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;QACxD,CAAC;QACD,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;IACtD,CAAC;;AArCU,sDAAqB;;;;;2BAC/B,YAAK,SAAC,gBAAgB;0BACtB,YAAK;;gCAFK,qBAAqB;IALjC,IAAA,4BAAY,GAAE;IACd,IAAA,gBAAS,EAAC;QACT,QAAQ,EAAE,kBAAkB;QAC5B,UAAU,EAAE,IAAI;KACjB,CAAC;GACW,qBAAqB,CAsCjC","names":[],"sources":["/Users/macbook/karpov-work/TrueNAS/webui/src/app/modules/ix-table/directives/ix-table-empty.directive.ts"],"sourcesContent":["import {\n  AfterViewInit, ComponentRef, Directive, Input, OnChanges, ViewContainerRef,\n} from '@angular/core';\nimport { UntilDestroy } from '@ngneat/until-destroy';\nimport { EmptyType } from 'app/enums/empty-type.enum';\nimport { EmptyConfig } from 'app/interfaces/empty-config.interface';\nimport { IxTableEmptyRowComponent } from 'app/modules/ix-table/components/ix-empty-row/ix-empty-row.component';\n\n@UntilDestroy()\n@Directive({\n  selector: '[ix-table-empty]',\n  standalone: true,\n})\nexport class IxTableEmptyDirective implements AfterViewInit, OnChanges {\n  @Input('ix-table-empty') showEmptyRow: boolean;\n  @Input() emptyConfig: EmptyConfig;\n  componentRef: ComponentRef<IxTableEmptyRowComponent> = null;\n  constructor(\n    private viewContainerRef: ViewContainerRef,\n  ) { }\n\n  ngAfterViewInit(): void {\n    this.toggleEmptyComponent();\n  }\n\n  ngOnChanges(): void {\n    this.toggleEmptyComponent();\n  }\n\n  toggleEmptyComponent(): void {\n    if (this.showEmptyRow && this.emptyConfig?.type !== EmptyType.Loading) {\n      this.updateComponentConfig();\n    } else {\n      this.destroyRowComponent();\n    }\n  }\n\n  destroyRowComponent(): void {\n    this.componentRef?.destroy();\n    this.componentRef = null;\n  }\n\n  updateComponentConfig(): void {\n    if (!this.componentRef) {\n      this.componentRef = this.viewContainerRef.createComponent(IxTableEmptyRowComponent);\n    }\n    if (this.emptyConfig) {\n      this.componentRef?.setInput('conf', this.emptyConfig);\n    }\n    this.componentRef.changeDetectorRef.detectChanges();\n  }\n}\n"],"version":3}