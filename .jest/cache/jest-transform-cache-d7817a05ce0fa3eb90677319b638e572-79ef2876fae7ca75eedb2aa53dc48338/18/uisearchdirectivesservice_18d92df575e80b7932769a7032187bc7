f9129c0b57fbe8c4435150acbe6b8a96
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.UiSearchDirectivesService = void 0;
const core_1 = require("@angular/core");
const rxjs_1 = require("rxjs");
const get_searchable_element_id_1 = require("app/modules/global-search/helpers/get-searchable-element-id");
let UiSearchDirectivesService = class UiSearchDirectivesService {
    constructor() {
        this.directives = new Set();
        this.directiveAdded$ = new rxjs_1.BehaviorSubject(null);
    }
    get pendingUiHighlightElement() {
        return this.pendingHighlightElement;
    }
    size() {
        return this.directives.size;
    }
    get(element) {
        const elementId = (0, get_searchable_element_id_1.getSearchableElementId)(element);
        for (const directive of this.directives.values()) {
            if (directive.id === elementId) {
                return directive;
            }
        }
        return null;
    }
    setPendingUiHighlightElement(element) {
        this.pendingHighlightElement = element;
    }
    register(directive) {
        this.directives.add(directive);
        this.directiveAdded$.next(directive);
    }
    unregister(directive) {
        this.directives.delete(directive);
    }
};
exports.UiSearchDirectivesService = UiSearchDirectivesService;
exports.UiSearchDirectivesService = UiSearchDirectivesService = __decorate([
    (0, core_1.Injectable)({
        providedIn: 'root',
    })
], UiSearchDirectivesService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL21hY2Jvb2sva2FycG92LXdvcmsvVHJ1ZU5BUy93ZWJ1aS9zcmMvYXBwL21vZHVsZXMvZ2xvYmFsLXNlYXJjaC9zZXJ2aWNlcy91aS1zZWFyY2gtZGlyZWN0aXZlcy5zZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHdDQUEyQztBQUMzQywrQkFBdUM7QUFFdkMsMkdBQXFHO0FBTTlGLElBQU0seUJBQXlCLEdBQS9CLE1BQU0seUJBQXlCO0lBQS9CO1FBQ0csZUFBVSxHQUFHLElBQUksR0FBRyxFQUFxQixDQUFDO1FBRWxELG9CQUFlLEdBQUcsSUFBSSxzQkFBZSxDQUFvQixJQUFJLENBQUMsQ0FBQztJQWdDakUsQ0FBQztJQTlCQyxJQUFJLHlCQUF5QjtRQUMzQixPQUFPLElBQUksQ0FBQyx1QkFBdUIsQ0FBQztJQUN0QyxDQUFDO0lBRUQsSUFBSTtRQUNGLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUM7SUFDOUIsQ0FBQztJQUVELEdBQUcsQ0FBQyxPQUE0QjtRQUM5QixNQUFNLFNBQVMsR0FBRyxJQUFBLGtEQUFzQixFQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ2xELEtBQUssTUFBTSxTQUFTLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDO1lBQ2pELElBQUksU0FBUyxDQUFDLEVBQUUsS0FBSyxTQUFTLEVBQUUsQ0FBQztnQkFDL0IsT0FBTyxTQUFTLENBQUM7WUFDbkIsQ0FBQztRQUNILENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCw0QkFBNEIsQ0FBQyxPQUE0QjtRQUN2RCxJQUFJLENBQUMsdUJBQXVCLEdBQUcsT0FBTyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxRQUFRLENBQUMsU0FBNEI7UUFDbkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVELFVBQVUsQ0FBQyxTQUE0QjtRQUNyQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNwQyxDQUFDO0NBQ0YsQ0FBQTtBQW5DWSw4REFBeUI7b0NBQXpCLHlCQUF5QjtJQUhyQyxJQUFBLGlCQUFVLEVBQUM7UUFDVixVQUFVLEVBQUUsTUFBTTtLQUNuQixDQUFDO0dBQ1cseUJBQXlCLENBbUNyQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9vay9rYXJwb3Ytd29yay9UcnVlTkFTL3dlYnVpL3NyYy9hcHAvbW9kdWxlcy9nbG9iYWwtc2VhcmNoL3NlcnZpY2VzL3VpLXNlYXJjaC1kaXJlY3RpdmVzLnNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBVaVNlYXJjaERpcmVjdGl2ZSB9IGZyb20gJ2FwcC9kaXJlY3RpdmVzL3VpLXNlYXJjaC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgZ2V0U2VhcmNoYWJsZUVsZW1lbnRJZCB9IGZyb20gJ2FwcC9tb2R1bGVzL2dsb2JhbC1zZWFyY2gvaGVscGVycy9nZXQtc2VhcmNoYWJsZS1lbGVtZW50LWlkJztcbmltcG9ydCB7IFVpU2VhcmNoYWJsZUVsZW1lbnQgfSBmcm9tICdhcHAvbW9kdWxlcy9nbG9iYWwtc2VhcmNoL2ludGVyZmFjZXMvdWktc2VhcmNoYWJsZS1lbGVtZW50LmludGVyZmFjZSc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnLFxufSlcbmV4cG9ydCBjbGFzcyBVaVNlYXJjaERpcmVjdGl2ZXNTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBkaXJlY3RpdmVzID0gbmV3IFNldDxVaVNlYXJjaERpcmVjdGl2ZT4oKTtcbiAgcHJvdGVjdGVkIHBlbmRpbmdIaWdobGlnaHRFbGVtZW50OiBVaVNlYXJjaGFibGVFbGVtZW50O1xuICBkaXJlY3RpdmVBZGRlZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVpU2VhcmNoRGlyZWN0aXZlPihudWxsKTtcblxuICBnZXQgcGVuZGluZ1VpSGlnaGxpZ2h0RWxlbWVudCgpOiBVaVNlYXJjaGFibGVFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5wZW5kaW5nSGlnaGxpZ2h0RWxlbWVudDtcbiAgfVxuXG4gIHNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5kaXJlY3RpdmVzLnNpemU7XG4gIH1cblxuICBnZXQoZWxlbWVudDogVWlTZWFyY2hhYmxlRWxlbWVudCk6IFVpU2VhcmNoRGlyZWN0aXZlIHtcbiAgICBjb25zdCBlbGVtZW50SWQgPSBnZXRTZWFyY2hhYmxlRWxlbWVudElkKGVsZW1lbnQpO1xuICAgIGZvciAoY29uc3QgZGlyZWN0aXZlIG9mIHRoaXMuZGlyZWN0aXZlcy52YWx1ZXMoKSkge1xuICAgICAgaWYgKGRpcmVjdGl2ZS5pZCA9PT0gZWxlbWVudElkKSB7XG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc2V0UGVuZGluZ1VpSGlnaGxpZ2h0RWxlbWVudChlbGVtZW50OiBVaVNlYXJjaGFibGVFbGVtZW50KTogdm9pZCB7XG4gICAgdGhpcy5wZW5kaW5nSGlnaGxpZ2h0RWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cblxuICByZWdpc3RlcihkaXJlY3RpdmU6IFVpU2VhcmNoRGlyZWN0aXZlKTogdm9pZCB7XG4gICAgdGhpcy5kaXJlY3RpdmVzLmFkZChkaXJlY3RpdmUpO1xuICAgIHRoaXMuZGlyZWN0aXZlQWRkZWQkLm5leHQoZGlyZWN0aXZlKTtcbiAgfVxuXG4gIHVucmVnaXN0ZXIoZGlyZWN0aXZlOiBVaVNlYXJjaERpcmVjdGl2ZSk6IHZvaWQge1xuICAgIHRoaXMuZGlyZWN0aXZlcy5kZWxldGUoZGlyZWN0aXZlKTtcbiAgfVxufVxuIl0sInZlcnNpb24iOjN9