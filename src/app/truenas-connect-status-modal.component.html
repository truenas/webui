<div mat-dialog-title>{{ 'Truenas Connect Service' }}</div>
<mat-divider></mat-divider>
<mat-dialog-content>
    <div>
        @if (config.status === TruenasConnectStatus.Configured) {
            <ix-icon
              class="status-connected"
              name="check_circle"
            ></ix-icon>
          }
          @else if (config.status === TruenasConnectStatus.Disabled) {
            <ix-icon
              class="status-disabled"
              name="pause_circle_filled"
            ></ix-icon>
          }
          @else if (
            config.status === TruenasConnectStatus.RegistrationFinalizationFailed ||
            config.status === TruenasConnectStatus.CertGenerationFailed
          ){
            <ix-icon
              class="status-failed"
              name="cancel"
            ></ix-icon>
          }
          @else {
            <ix-icon
            class="status-pending"
            name="pending"
          ></ix-icon>
          }
          <span>{{ config.status }}</span>
    </div>

      <div id="error">
      {{ config.status_reason }}
    </div>
</mat-dialog-content>
<div mat-dialog-actions>
    <button
    ixTest="tnc-generate-token"
    mat-button
    (click)="generateToken()"
  >
  {{'Generate Token' | translate}}
  </button>
  <button mat-button ixTest="tnc-reenable" (click)="reenable()">
    {{'Reenable' | translate}}
  </button>
    <button
      ixTest="tnc-connect"
      mat-button
      color="primary"
      (click)="openConnectDialog()"
    >
    {{'Connect' | translate}}
    </button>
</div>