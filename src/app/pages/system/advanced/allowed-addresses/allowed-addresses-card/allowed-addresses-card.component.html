<mat-card>
  <mat-toolbar-row>
    <h3 class="card-title">
      {{ 'Allowed IP Addresses' | translate }}
    </h3>

    <div class="actions action-icon">
      <button
        mat-button
        [ixTest]="['configure', 'ip-address']"
        [disabled]="dataProvider.isLoading$ | async"
        (click)="onConfigure()"
      >
        {{ 'Configure' | translate }}
      </button>
    </div>
  </mat-toolbar-row>

  <ix-table2
    class="table"
    [ix-table2-empty]="!dataProvider.rows.length"
    [emptyConfig]="emptyService.defaultEmptyConfig(dataProvider.emptyType$ | async)"
  >
    <thead
      ix-table-head
      [columns]="columns"
      [dataProvider]="dataProvider"
    ></thead>
    <tbody
      ix-table-body
      [columns]="columns"
      [dataProvider]="dataProvider"
      [isLoading]="dataProvider.isLoading$ | async"
    >
      <ng-template
        let-address
        ix-table-cell
        [columnIndex]="1"
        [dataProvider]="dataProvider"
      >
        <div class="actions">
          <button
            mat-icon-button
            [ixTest]="[address.address, 'delete']"
            [matTooltip]="'Delete' | translate"
            (click)="promptDeleteAllowedAddress(address)"
          >
            <ix-icon name="delete"></ix-icon>
          </button>
        </div>
      </ng-template>
    </tbody>
  </ix-table2>
</mat-card>
