@let license = licenseInfo();
@if (hasLicense() && license) {
  <mat-list>
    <mat-list-item>
      <span class="label">{{ 'Contract Type' | translate }}:</span>
      <span class="value">{{ getLabelForContractType(license.contract_type) }}</span>
    </mat-list-item>
    <mat-list-item>
      <span class="label">{{ 'Expiration Date' | translate }}:</span>
      <span class="value">
        {{ license.expiration_date }}
        @if (license.daysLeftinContract > 0) {
          ({{ 'expires in {n, plural, one {# day} other {# days} }' | translate: { n: license.daysLeftinContract } }})
        }
        @if (license.daysLeftinContract === 0) {
          ({{ 'EXPIRES TODAY' | translate }})
        }
        @if (license.daysLeftinContract < 0) {
          ({{ 'EXPIRED' | translate }})
        }
      </span>
    </mat-list-item>
    @if (isProactiveSupportEnabled()) {
      <mat-list-item class="proactive-status">
        <span class="label">{{ 'Proactive Support' | translate }}:</span>
        <span class="value">{{ 'Enabled' | translate }}</span>
        <button
          *ixRequiresRoles="requiredRoles"
          mat-button
          class="edit-contacts-btn"
          (click)="editContacts.emit()"
        >
          {{ 'Manage' | translate }}
        </button>
      </mat-list-item>
    }
    <mat-list-item class="model-row">
      <span class="label">{{ 'Model' | translate }}:</span>
      <span class="value">{{ license.model || systemInfo().model }}</span>
      @if (productionControl()) {
        <ix-slide-toggle
          *ixRequiresRoles="requiredRoles"
          class="production-toggle"
          color="primary"
          [formControl]="productionControl()"
          [label]="'This is a production system' | translate"
        ></ix-slide-toggle>
      }
    </mat-list-item>
    @if (systemInfo().system_serial) {
      <mat-list-item>
        <span class="label">{{ 'System Serial' | translate }}:</span>
        <span class="value">{{ systemInfo().system_serial }}</span>
      </mat-list-item>
    }
    @if (license.system_serial || license.system_serial_ha) {
      <mat-list-item>
        <span class="label">{{ 'Licensed Serials' | translate }}:</span>
        <span class="value">
          @if (license.system_serial) {
            <span>{{ license.system_serial }}</span>
          }
          @if (license.system_serial && license.system_serial_ha) {
            <span> / </span>
          }
          @if (license.system_serial_ha) {
            <span>{{ license.system_serial_ha }}</span>
          }
        </span>
      </mat-list-item>
    }
    <mat-list-item>
      <span class="label">{{ 'Features' | translate }}:</span>
      <span class="value">{{ license.features.length ? license.features.join(', ') : 'NONE' }}</span>
    </mat-list-item>
    @if (license.add_hardware) {
      <mat-list-item>
        <span class="label">{{ 'Additional Hardware' | translate }}:</span>
        <span class="value">{{ license.add_hardware }}</span>
      </mat-list-item>
    }
  </mat-list>
} @else {
  <mat-list>
    <mat-list-item>
      <span class="label">{{ 'OS Version' | translate }}:</span>
      <span class="value">{{ systemInfo().version }}</span>
    </mat-list-item>
    <mat-list-item>
      <span class="label">{{ 'Product' | translate }}:</span>
      <span class="value">{{ systemInfo().system_product }}</span>
    </mat-list-item>
    @if (systemInfo().model) {
      <mat-list-item>
        <span class="label">{{ 'Model' | translate }}:</span>
        <span class="value">{{ systemInfo().model }}</span>
      </mat-list-item>
    }
    @if (systemInfo().memory) {
      <mat-list-item>
        <span class="label">{{ 'Memory' | translate }}:</span>
        <span class="value">{{ systemInfo().memory }}</span>
      </mat-list-item>
    }
    @if (systemInfo().system_serial) {
      <mat-list-item>
        <span class="label">{{ 'System Serial' | translate }}:</span>
        <span class="value">{{ systemInfo().system_serial }}</span>
      </mat-list-item>
    }
  </mat-list>
}
