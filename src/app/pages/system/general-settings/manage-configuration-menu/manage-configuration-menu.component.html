<button
  *ixRequiresRoles="[Role.FullAdmin]"
  mat-button
  ixUiSearchableElement
  color="primary"
  class="menu-toggle"
  ixTest="manage-configuration-menu"
  [matMenuTriggerFor]="menu"
  [ixSearchConfig]="searchableElements.elements.manageConfiguration"
>
  {{ 'Manage Configuration' | translate }}
  <ix-icon name="mdi-menu-down" class="menu-caret"></ix-icon>
</button>

<mat-menu #menu="matMenu">
  <button
    *ixRequiresRoles="[Role.FullAdmin]"
    ixUiSearchableElement
    mat-menu-item
    ixTest="download-configuration"
    [ixSearchConfig]="searchableElements.elements.downloadFile"
    (click)="onDownloadConfig()"
  >
    {{ 'Download File' | translate }}
  </button>
  <button
    *ixRequiresRoles="[Role.FullAdmin]"
    ixUiSearchableElement
    mat-menu-item
    ixTest="upload-configuration"
    [ixSearchConfig]="searchableElements.elements.uploadFile"
    (click)="onUploadConfig()"
  >
    {{ 'Upload File' | translate }}
  </button>
  <ng-container *ngIf="isSysAdmin$ | async">
    <button
      *ixRequiresRoles="[Role.FullAdmin]"
      ixUiSearchableElement
      mat-menu-item
      ixTest="reset-configuration"
      [ixSearchConfig]="searchableElements.elements.resetToDefaults"
      (click)="onResetDefaults()"
    >
      {{ 'Reset to Defaults' | translate }}
    </button>
  </ng-container>
</mat-menu>
