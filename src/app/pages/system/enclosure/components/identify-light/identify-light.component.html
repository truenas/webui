<div class="status-line">
  @if (isStatusKnown()) {
    @switch (status()) {
      @case (DriveBayLightStatus.On) {
        <tn-icon name="lightbulb-on" library="mdi"></tn-icon>
        {{ 'Identify light is on.' | translate }}
      }
      @case (DriveBayLightStatus.Clear) {
        <tn-icon name="lightbulb-off-outline" library="mdi"></tn-icon>
        {{ 'Identify light is off.' | translate }}
      }
      @case (DriveBayLightStatus.Off) {
        <tn-icon name="lightbulb-off-outline" library="mdi"></tn-icon>
        {{ 'Identify light is off.' | translate }}
      }
    }
  } @else {
    <tn-icon name="lightbulb-question-outline" library="mdi"></tn-icon>
    {{ 'Light status is unknown.' | translate }}
  }
</div>

<div class="controls">
  @if (status() === DriveBayLightStatus.Off || status() === DriveBayLightStatus.Clear || !isStatusKnown()) {
    <button
      mat-button
      ixTest="identify"
      (click)="changeLightStatus(DriveBayLightStatus.On)"
    >{{ 'Identify' | translate }}</button>
  }
  @if ((status() !== DriveBayLightStatus.Off && status() !== DriveBayLightStatus.Clear) || !isStatusKnown()) {
    <button
      mat-button
      ixTest="turn-off"
      (click)="changeLightStatus(DriveBayLightStatus.Off)"
    >{{ 'Turn Off' | translate }}</button>
  }
</div>
