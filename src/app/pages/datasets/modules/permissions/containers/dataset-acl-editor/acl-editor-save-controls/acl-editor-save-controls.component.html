<div class="checkboxes" [formGroup]="saveParameters">
  <ix-checkbox
    formControlName="recursive"
    class="recursive-checkbox"
    [label]="helptext.applyRecursivelyLabel | translate"
    [tooltip]="helptext.applyRecursivelyTooltip | translate"
  ></ix-checkbox>

  @if (saveParameters.value.recursive) {
    <ix-checkbox
      formControlName="traverse"
      [label]="helptext.traverseLabel | translate"
      [tooltip]="helptext.traverseTooltip | translate"
    ></ix-checkbox>
  }

  @if (hasValidateAclCheckbox()) {
    <ix-checkbox
      formControlName="validate_effective_acl"
      [label]="helptext.validateLabel | translate"
      [tooltip]="helptext.validateTooltip | translate"
    ></ix-checkbox>
  }
</div>

<button
  *ixRequiresRoles="[Role.FilesystemAttrsWrite, Role.FilesystemFullControl]"
  mat-button
  color="primary"
  class="save-button"
  ixTest="save-acl"
  [disabled]="!canBeSaved()"
  (click)="onSavePressed()"
>
  {{ 'Save Access Control List' | translate }}
</button>
