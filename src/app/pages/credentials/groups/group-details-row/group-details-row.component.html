<td [attr.colspan]="colspan()">
  <ix-table-expandable-row>
    @if (!group().local) {
      <span class="directory-service-message">{{ 'This group is managed by a directory service and cannot be modified.' | translate }}</span>
    }

    @if (group().local) {
      <button
        mat-button
        [disabled]="group().immutable"
        [matTooltip]="group().immutable ? ('This group is immutable and its members cannot be changed.' | translate) : null"
        [ixTest]="[group().group, 'members']"
        (click)="openGroupMembersForm()"
      >
        <tn-icon name="account-group" library="mdi"></tn-icon>
        <span>{{ 'Members' | translate }}</span>
      </button>
    }

    @if (!group().builtin && group().local && !group().immutable) {
      <button
        mat-button
        [ixTest]="[group().group, 'edit']"
        (click)="doEdit(group())"
      >
        <tn-icon name="pencil" library="mdi"></tn-icon>
        <span>{{ 'Edit' | translate }}</span>
      </button>
    }

    <ng-container *ixRequiresRoles="[Role.AccountWrite]">
      @if (!group().builtin && group().local) {
        <button
          mat-button
          [disabled]="isDeleteDisabled()"
          [matTooltip]="isDeleteDisabled() ? ('Groups with privileges or members cannot be deleted.' | translate) : null"
          [ixTest]="[group().group, 'delete']"
          (click)="doDelete(group())"
        >
          <tn-icon name="delete" library="mdi"></tn-icon>
          <span>{{ 'Delete' | translate }}</span>
        </button>
      }
    </ng-container>
  </ix-table-expandable-row>
</td>
