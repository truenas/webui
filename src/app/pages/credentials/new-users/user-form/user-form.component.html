<ix-modal-header
  [title]="editingUser() ? ('Edit User' | translate) : ('Add User' | translate)"
  [loading]="isFormLoading()"
></ix-modal-header>

<form
  class="ix-form-container"
  [formGroup]="form"
  (submit)="onSubmit()"
>
  <ix-fieldset>
    <div>
      <ix-input
        formControlName="username"
        class="username"
        [label]="'Username' | translate"
        [tooltip]="fakeTooltip"
        [required]="true"
      ></ix-input>
    </div>
  </ix-fieldset>

  <ix-allowed-access-section [editingUser]="editingUser()"></ix-allowed-access-section>

  <ix-auth-section [editingUser]="editingUser()"></ix-auth-section>

  <ix-additional-details-section [editingUser]="editingUser()"></ix-additional-details-section>

  <ix-form-actions>
    <button
      *ixRequiresRoles="requiredRoles"
      mat-button
      type="submit"
      color="primary"
      ixTest="save"
      [disabled]="isFormInvalid() || isFormLoading()"
    >
      {{ 'Save' | translate }}
    </button>

  </ix-form-actions>
</form>
