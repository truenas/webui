<ng-container [formGroup]="form">
  <ix-fieldset [title]="'Authentication' | translate">
    <ix-input
      formControlName="user"
      [label]="'User Name' | translate"
      [required]="true"
      [tooltip]="helptext.openstackSwift.user.tooltip | translate"
    ></ix-input>

    <ix-input
      formControlName="key"
      type="password"
      [label]="'API Key or Password' | translate"
      [required]="true"
      [tooltip]="helptext.openstackSwift.key.tooltip | translate"
    ></ix-input>

    <ix-input
      formControlName="auth"
      [label]="'Authentication URL' | translate"
      [required]="true"
      [tooltip]="helptext.openstackSwift.auth.tooltip | translate"
    ></ix-input>

    <ix-details-table>
      <ix-details-item 
        [label]="'AuthVersion' | translate"
        [tooltip]="helptext.openstackSwift.authVersion.tooltip | translate">
        <ix-editable>
          <div view>{{ form.value.auth_version | mapValue: authVersions }}</div>

          <div edit>
            <ix-select
              formControlName="auth_version"
              [options]="authVersions$"
              [required]="true"
              [attr.aria-label]="'AuthVersion' | translate"
            ></ix-select>
          </div>
        </ix-editable>
      </ix-details-item>
    </ix-details-table>
  </ix-fieldset>

  <ix-fieldset [title]="'Advanced Options' | translate">
    <ix-details-table>
      @if (isVersion3) {
        <ix-details-item 
          [label]="'User ID' | translate"
          [tooltip]="helptext.openstackSwift.userId.tooltip | translate">
          <ix-editable>
            <div view>{{ form.value.user_id }}</div>

            <div edit>
              <ix-input
                formControlName="user_id"
                [attr.aria-label]="'User ID' | translate"
              ></ix-input>
            </div>
          </ix-editable>
        </ix-details-item>
        <ix-details-item 
          [label]="'User Domain' | translate"
          [tooltip]="helptext.openstackSwift.domain.tooltip | translate">
          <ix-editable>
            <div view>{{ form.value.domain }}</div>

            <div edit>
              <ix-input
                formControlName="domain"
                [attr.aria-label]="'User Domain' | translate"
              ></ix-input>
            </div>
          </ix-editable>
        </ix-details-item>
      }
      <ix-details-item 
        [label]="'Tenant Name' | translate"
        [tooltip]="helptext.openstackSwift.tenant.tooltip | translate">
        <ix-editable>
          <div view>{{ form.value.tenant }}</div>

          <div edit>
            <ix-input
              formControlName="tenant"
              [attr.aria-label]="'Tenant Name' | translate"
            ></ix-input>
          </div>
        </ix-editable>
      </ix-details-item>

      <ix-details-item 
        [label]="'Tenant ID' | translate"
        [tooltip]="helptext.openstackSwift.tenantId.tooltip | translate">
        <ix-editable>
          <div view>{{ form.value.tenant_id }}</div>

          <div edit>
            <ix-input
              formControlName="tenant_id"
              [attr.aria-label]="'Tenant ID' | translate"
            ></ix-input>
          </div>
        </ix-editable>
      </ix-details-item>

      @if (isVersion3) {
        <ix-details-item 
          [label]="'Tenant Domain' | translate"
          [tooltip]="helptext.openstackSwift.tenantDomain.tooltip | translate">
          <ix-editable>
            <div view>{{ form.value.tenant_domain }}</div>

            <div edit>
              <ix-input
                formControlName="tenant_domain"
                [attr.aria-label]="'Tenant Domain' | translate"
              ></ix-input>
            </div>
          </ix-editable>
        </ix-details-item>
      }

      <ix-details-item 
        [label]="'Auth Token' | translate"
        [tooltip]="helptext.openstackSwift.authToken.tooltip | translate">
        <ix-editable>
          <div view>{{ form.value.auth_token }}</div>

          <div edit>
            <ix-input
              formControlName="auth_token"
              type="password"
              [attr.aria-label]="'Auth Token' | translate"
            ></ix-input>
          </div>
        </ix-editable>
      </ix-details-item>

      <ix-details-item 
        [label]="'Region Name' | translate"
        [tooltip]="helptext.openstackSwift.region.tooltip | translate">
        <ix-editable>
          <div view>{{ form.value.region }}</div>

          <div edit>
            <ix-input
              formControlName="region"
              [attr.aria-label]="'Region Name' | translate"
            ></ix-input>
          </div>
        </ix-editable>
      </ix-details-item>

      <ix-details-item 
        [label]="'Storage URL' | translate"
        [tooltip]="helptext.openstackSwift.storageUrl.tooltip | translate">
        <ix-editable>
          <div view>{{ form.value.storage_url }}</div>

          <div edit>
            <ix-input
              formControlName="storage_url"
              [attr.aria-label]="'Storage URL' | translate"
            ></ix-input>
          </div>
        </ix-editable>
      </ix-details-item>

      <ix-details-item 
        [label]="'Endpoint Type' | translate"
        [tooltip]="helptext.openstackSwift.endpointType.tooltip | translate">
        <ix-editable>
          <div view>{{ form.value.endpoint_type | mapValue: endpointTypes }}</div>

          <div edit>
            <ix-select
              formControlName="endpoint_type"
              [options]="endpointTypes$"
              [required]="true"
              [attr.aria-label]="'Endpoint Type' | translate"
            ></ix-select>
          </div>
        </ix-editable>
      </ix-details-item>
    </ix-details-table>
  </ix-fieldset>
</ng-container>
