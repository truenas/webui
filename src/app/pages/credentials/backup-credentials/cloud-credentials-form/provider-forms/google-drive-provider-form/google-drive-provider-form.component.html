<ix-oauth-provider-authentication
  [oauthUrl]="provider.credentials_oauth"
  (authenticated)="onOauthAuthenticated($event)"
></ix-oauth-provider-authentication>

<ix-fieldset [title]="'Authentication' | translate" [formGroup]="form">
  <ix-details-table>
    <ix-details-item
      [label]="'Access Token' | translate"
      [tooltip]="helptext.googleDrive.token.tooltip | translate">
      <ix-editable>
        <div view>
          @if (form.value.token) {
            {{ 'Token set' | translate }}
          }
        </div>

        <div edit>
          <ix-textarea
            formControlName="token"
            type="password"
            [attr.aria-label]="'Access Token' | translate"
          ></ix-textarea>
        </div>
      </ix-editable>
    </ix-details-item>

    <ix-details-item
      [label]="'Team Drive ID' | translate"
      [tooltip]="helptext.googleDrive.teamDrive.tooltip | translate">
      <ix-editable>
        <div view>{{ form.value.team_drive }}</div>

        <div edit>
          <ix-input
            formControlName="team_drive"
            [attr.aria-label]="'Team Drive ID' | translate"
          ></ix-input>
        </div>
      </ix-editable>
    </ix-details-item>
  </ix-details-table>
</ix-fieldset>
