<div class="container">
  <div class="table-container">
    @if (!isMobileView()) {
      <ng-container [ngTemplateOutlet]="thead"></ng-container>
    }

    <ix-table
      class="table"
      [ixUiSearch]="searchableElements.elements.tasks"
      [ix-table-empty]="!(dataProvider().currentPageCount$ | async)"
      [emptyConfig]="emptyService.defaultEmptyConfig(dataProvider().emptyType$ | async)"
      >
      @if (isMobileView()) {
        <ng-container [ngTemplateOutlet]="thead"></ng-container>
      }
      <tbody
        ix-table-body
        [columns]="columns"
        [dataProvider]="dataProvider()"
        [isLoading]="!!(dataProvider().isLoading$ | async)"
        (expanded)="expanded($event)"
      ></tbody>
    </ix-table>
    <ix-table-pager [dataProvider]="dataProvider()"></ix-table-pager>
  </div>
</div>

<ng-template #thead>
  <div class="sticky-header">
    <thead
      class="header-row"
      ix-table-head
      [columns]="columns"
      [dataProvider]="dataProvider()"
    ></thead>
  </div>
</ng-template>
