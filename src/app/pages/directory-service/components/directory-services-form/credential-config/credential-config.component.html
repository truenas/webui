<form class="ix-form-container" [formGroup]="form">
<ix-fieldset [title]="'Credential Configuration' | translate">
    <ix-select
      formControlName="credential_type"
      [label]="'Credential Type' | translate"
      [required]="true"
      [options]="credentialTypeOptions$"
      [tooltip]="helptext.credentialTypeTooltip | translate"
    ></ix-select>

    @switch(credentialType()) {
      @case (DirectoryServicesCredentialType.KerberosPrincipal) {
        <ix-select
          formControlName="principal"
          [label]="'Kerberos Principal' | translate"
          [required]="true"
          [options]="kerberosPrincipals$"
          [tooltip]="helptext.principalTooltip | translate"
        ></ix-select>
      }
      @case (DirectoryServicesCredentialType.KerberosUser) {
        <ix-input
          formControlName="username"
          [label]="'Username' | translate"
          [required]="true"
          [tooltip]="helptext.usernameTooltip | translate"
        ></ix-input>

        <ix-input
          formControlName="password"
          type="password"
          [label]="'Password' | translate"
          [required]="true"
          [tooltip]="helptext.passwordTooltip | translate"
        ></ix-input>
      }
      @case (DirectoryServicesCredentialType.LdapPlain) {
        <ix-input
          formControlName="binddn"
          [label]="'Bind DN' | translate"
          [required]="true"
          [tooltip]="helptext.binddnTooltip | translate"
        ></ix-input>

        <ix-input
          formControlName="bindpw"
          type="password"
          [label]="'Bind Password' | translate"
          [required]="true"
          [tooltip]="helptext.bindpwTooltip | translate"
        ></ix-input>
      }
      @case (DirectoryServicesCredentialType.LdapMtls) {
        <ix-select
          formControlName="client_certificate"
          [label]="'Client Certificate' | translate"
          [required]="true"
          [options]="clientCertsOptions$"
          [tooltip]="helptext.clientCertificateTooltip | translate"
        ></ix-select>
      }
    }
  </ix-fieldset>
</form>