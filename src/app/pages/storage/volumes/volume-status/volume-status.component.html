<div class="material mat-card mat-card-table">
  <div class="mat-toolbar mat-card-toolbar" fxLayoutAlign="space-between center">
    <div fxFlex="300px" class="mat-card-title-text">
      {{"Pool Status" | translate}}
    </div>
    <div>
      <button mat-button type="button" (click)="refresh()" mat-button color="primary">{{"Refresh" | translate}}</button>
    </div>
  </div>
  <div>
    <mat-list *ngIf="poolScan">
      <mat-list-item><b>{{poolScan.function || 'SCAN'}}</b></mat-list-item>
      <mat-list-item>Status: {{poolScan.pause != null ? 'PAUSED' : poolScan.state ? poolScan.state : 'None requested'}}</mat-list-item>
      <mat-list-item *ngIf="poolScan.total_secs_left != null">Time Remaining: {{poolScan.total_secs_left}} Seconds</mat-list-item>
      <mat-list-item *ngIf="poolScan['errors'] != null">Errors: {{poolScan['errors']}}</mat-list-item>
      <mat-list-item *ngIf="poolScan.start_time != null">Date: {{getReadableDate(poolScan.start_time)}}</mat-list-item>
    </mat-list>
  </div>
  <div class="padding-16">
    <entity-tree-table [conf]="treeTableConfig"></entity-tree-table>
  </div>
</div>
