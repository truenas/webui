<ix-modal-header
  [title]="'Add Subsystem' | translate"
  [loading]="isLoading()"
></ix-modal-header>

<mat-card class="card">
  <form [formGroup]="form" (keydown.enter)="$event.preventDefault()" (submit)="onSubmit()">
    <mat-vertical-stepper #stepper>
      <ix-use-ix-icons-in-stepper></ix-use-ix-icons-in-stepper>

      <mat-step>
        <ng-template matStepLabel>{{ 'What To Share' | translate }}</ng-template>

        <ix-input
          formControlName="name"
          [required]="true"
          [label]="'Subsystem Name' | translate"
        ></ix-input>

        <div class="step-buttons">
          <button
            mat-button
            matStepperNext
            color="primary"
            type="button"
            ixTest="next"
            [disabled]="form.controls.name.invalid"
          >{{ 'Next' | translate }}</button>
        </div>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>{{ 'Access' | translate }}</ng-template>

        <div class="step-buttons">
          <button
            mat-button
            matStepperPrevious
            color="accent"
            type="button"
            ixTest="back"
          >{{ 'Back' | translate }}</button>
          <button
            mat-button
            matStepperNext
            color="primary"
            type="submit"
            ixTest="save"
            [disabled]="form.invalid || isLoading()"
          >{{ 'Save' | translate }}</button>
        </div>
      </mat-step>
    </mat-vertical-stepper>
  </form>
</mat-card>
