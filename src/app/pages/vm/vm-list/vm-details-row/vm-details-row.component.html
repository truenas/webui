@if (vmStateInfo().isRunning) {
  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [attr.aria-label]="'Stop' | translate"
    [ixTest]="['stop', vm().id]"
    (click)="doStop()"
  >
    <tn-icon name="stop-circle" library="mdi"></tn-icon>
    <span>{{ 'Stop' | translate }}</span>
  </button>

  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [attr.aria-label]="'Restart' | translate"
    [ixTest]="['restart', vm().id]"
    (click)="doRestart()"
  >
    <tn-icon name="restart" library="mdi"></tn-icon>
    <span>{{ 'Restart' | translate }}</span>
  </button>

  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [attr.aria-label]="'Power Off' | translate"
    [ixTest]="['power_off', vm().id]"
    (click)="doPowerOff()"
  >
    <tn-icon name="power" library="mdi"></tn-icon>
    <span>{{ 'Power Off' | translate }}</span>
  </button>
} @else if (vmStateInfo().isSuspended) {
  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [attr.aria-label]="'Resume' | translate"
    [ixTest]="['resume', vm().id]"
    (click)="doStart()"
  >
    <tn-icon name="play-circle" library="mdi"></tn-icon>
    <span>{{ 'Resume' | translate }}</span>
  </button>

  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [attr.aria-label]="'Power Off' | translate"
    [ixTest]="['power_off', vm().id]"
    (click)="doPowerOff()"
  >
    <tn-icon name="power" library="mdi"></tn-icon>
    <span>{{ 'Power Off' | translate }}</span>
  </button>
} @else {
  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [ixTest]="['start', vm().id]"
    [attr.aria-label]="'Start' | translate"
    (click)="doStart()"
  >
    <tn-icon name="play-circle" library="mdi"></tn-icon>
    <span>{{ 'Start' | translate }}</span>
  </button>
}

<button
  mat-button
  [ixTest]="['edit', vm().id]"
  [attr.aria-label]="'Edit' | translate"
  (click)="doEdit()"
>
  <tn-icon name="pencil" library="mdi"></tn-icon>
  <span>{{ 'Edit' | translate }}</span>
</button>

<button
  *ixRequiresRoles="requiredRoles"
  mat-button
  [attr.aria-label]="'Delete' | translate"
  [ixTest]="['delete', vm().id]"
  (click)="doDelete()"
>
  <tn-icon name="delete" library="mdi"></tn-icon>
  <span>{{ 'Delete' | translate }}</span>
</button>

<button
  mat-button
  [attr.aria-label]="'Devices' | translate"
  [ixTest]="['devices', vm().id]"
  (click)="openDevices()"
>
  <tn-icon name="hub" library="mdi"></tn-icon>
  <span>{{ 'Devices' | translate }}</span>
</button>

<button
  *ixRequiresRoles="requiredRoles"
  mat-button
  [attr.aria-label]="'Clone' | translate"
  [ixTest]="['clone', vm().id]"
  (click)="doClone()"
>
  <tn-icon name="content-copy" library="mdi"></tn-icon>
  <span>{{ 'Clone' | translate }}</span>
</button>

@if (showDisplayButton()) {
  <button
    mat-button
    [attr.aria-label]="'Display' | translate"
    [ixTest]="['open_display', vm().id]"
    (click)="openDisplay()"
  >
    <tn-icon name="monitor" library="mdi"></tn-icon>
    <span>{{ 'Display' | translate }}</span>
  </button>
}

@if (vmStateInfo().isRunning) {
  <button
    mat-button
    [ixTest]="['open_serial_shell', vm().id]"
    [attr.aria-label]="'Serial Shell' | translate"
    (click)="openSerialShell()"
  >
    <tn-icon name="chevron-right" library="mdi"></tn-icon>
    <span>{{ 'Serial Shell' | translate }}</span>
  </button>
}

<button
  *ixRequiresRoles="requiredReadRoles"
  mat-button
  [ixTest]="['download_logs', vm().id]"
  [attr.aria-label]="'Download Logs' | translate"
  (click)="downloadLogs()"
>
  <tn-icon name="content-paste" library="mdi"></tn-icon>
  <span>{{ 'Download Logs' | translate }}</span>
</button>




