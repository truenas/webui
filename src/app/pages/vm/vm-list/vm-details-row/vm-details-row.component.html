<ng-container *ngIf="!isRunning">
  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [ixTest]="['start', vm.id]"
    (click)="doStart()"
  >
    <ix-icon name="play_arrow"></ix-icon>
    <span>{{ 'Start' | translate }}</span>
  </button>
</ng-container>

<ng-container *ngIf="isRunning">
  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [ixTest]="['stop', vm.id]"
    (click)="doStop()"
  >
    <ix-icon name="stop"></ix-icon>
    <span>{{ 'Stop' | translate }}</span>
  </button>
</ng-container>

<ng-container *ngIf="isRunning">
  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [ixTest]="['restart', vm.id]"
    (click)="doRestart()"
  >
    <ix-icon name="replay"></ix-icon>
    <span>{{ 'Restart' | translate }}</span>
  </button>
</ng-container>

<ng-container *ngIf="isRunning">
  <button
    *ixRequiresRoles="requiredRoles"
    mat-button
    [ixTest]="['power_off', vm.id]"
    (click)="doPowerOff()"
  >
    <ix-icon name="power_settings_new"></ix-icon>
    <span>{{ 'Power Off' | translate }}</span>
  </button>
</ng-container>

<button
  mat-button
  [ixTest]="['edit', vm.id]"
  (click)="doEdit()"
>
  <ix-icon name="edit"></ix-icon>
  <span>{{ 'Edit' | translate }}</span>
</button>

<button
  *ixRequiresRoles="requiredRoles"
  mat-button
  [ixTest]="['delete', vm.id]"
  (click)="doDelete()"
>
  <ix-icon name="delete"></ix-icon>
  <span>{{ 'Delete' | translate }}</span>
</button>

<button
  mat-button
  [ixTest]="['devices', vm.id]"
  (click)="openDevices()"
>
  <ix-icon name="device_hub"></ix-icon>
  <span>{{ 'Devices' | translate }}</span>
</button>

<button
  *ixRequiresRoles="requiredRoles"
  mat-button
  [ixTest]="['clone', vm.id]"
  (click)="doClone()"
>
  <ix-icon name="filter_none"></ix-icon>
  <span>{{ 'Clone' | translate }}</span>
</button>

<button
  *ngIf="showDisplayButton"
  mat-button
  [ixTest]="['open_display', vm.id]"
  (click)="openDisplay()"
>
  <ix-icon name="settings_ethernet"></ix-icon>
  <span>{{ 'Display' | translate }}</span>
</button>

<button
  *ngIf="isRunning"
  mat-button
  [ixTest]="['open_serial_shell', vm.id]"
  (click)="openSerialShell()"
>
  <ix-icon name="keyboard_arrow_right"></ix-icon>
  <span>{{ 'Serial Shell' | translate }}</span>
</button>

<button
  *ixRequiresRoles="requiredReadRoles"
  mat-button
  [ixTest]="['download_logs', vm.id]"
  (click)="downloadLogs()"
>
  <ix-icon name="content_paste"></ix-icon>
  <span>{{ 'Download Logs' | translate }}</span>
</button>




