<mat-card class="form-card">
  <mat-progress-bar
    *ngIf="isFormLoading"
    mode="indeterminate"
  ></mat-progress-bar>

  <mat-card-title *ngIf="group?.group">
    {{ 'Manage members of {name} group' | translate: { name: group.group } }}
  </mat-card-title>

  <mat-card-content>
    <div class="padding-16" *ngIf="users.length">
      <ix-dual-listbox
        minHeight="55vh"
        maxHeight="55vh"
        [items]="users"
        [(selectedItems)]="selectedMembers"
        [title1]="'All users' | translate"
        [title2]="'Group members' | translate"
      >
        <ng-template #templateItem let-item>
          <mat-icon
            matListIcon
            fontSet="mdi-set"
            fontIcon="mdi-account"
            class="icon account"
          ></mat-icon>
          <span matLine>{{ item.username }}</span>
        </ng-template>
      </ix-dual-listbox>
    </div>
  </mat-card-content>

  <mat-card-actions class="button-container">
    <button
      mat-button
      color="primary"
      [disabled]="isFormLoading"
      (click)="onSubmit()"
    >
      {{ 'Save' | translate }}
    </button>
    <button mat-button (click)="onCancel()">{{ 'Cancel' | translate }}</button>
  </mat-card-actions>
</mat-card>
