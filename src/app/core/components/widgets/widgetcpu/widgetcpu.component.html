<div class="widget stats-widget" ngClass.xs="double-height xs">
  <div class="card-container  front">
    <mat-card class="front" fxLayout="row" fxLayoutWrap fxLayoutAlign="space-between stretch">
      <mat-card-content>
        <mat-toolbar-row >
          <h3 class="mat-card-title-text"><div class="card-title-text">{{title | translate}}</div></h3>
          <!--<ng-template *ngIf="configurable === true">
            <button mat-icon-button (click)="toggleConfig()">
            <mat-icon>settings</mat-icon>
            </button>
            </ng-template>-->
            <div class="controls">
              <button mat-icon-button class="" (click)="router.navigate(['reportsdashboard/cpu'])">
                <mat-icon role="img"
                  matTooltip="CPU Reports"
                  matTooltipPosition="above"
                  aria-label="CPU Reports">
                    insert_chart
                </mat-icon>
              </button>
            </div>
        </mat-toolbar-row>
        <div class="cpu-model">{{cpuModel ? cpuModel : 'gathering info...'}}</div>
        <!--<viewchartline fxFlex="100" fxFlexAlign="end" #chartCpu width="600" height="160" [style.display]="isFlipped ? 'none': 'block'"></viewchartline>-->
        <!-- Chart -->
        <div id="cpu-load-wrapper" fxLayout="row wrap" fxLayoutAlign="space-around center">
          <h3 fxFlex="33" id="cpu-load-label">LOAD</h3>
          <!--<div *ngIf="cpuAvg && cpuAvg.data" id="cpu-load-value">{{cpuAvg.data[1]}}%</div>-->
          <viewchartgauge fxFlex="34" *ngIf="cpuAvg && cpuAvg.data" [config]="cpuAvg" #load class=""></viewchartgauge>
          <div fxFlex="33" id="cpu-load-cores">
            <h3 class="core-count">{{coreCount}}</h3>
            <h4 class="core-count-label">Cores</h4>
          </div>
        </div>


        <div id="cpu-cores-wrapper" class="bar-chart-wrapper" fxLayout="column">
            <!--<viewchartbar *ngIf="cpuData && cpuData.data" [config]="cpuData" #cores class=""></viewchartbar>-->
            
            <div fxFlex="100" id="cpu-load-cores-legend" fxLayout="row wrap">
              <div *ngIf="legendData; else noLegend" id="cpu-load-cores-legend-values" fxFlex fxLayout="row" fxLayoutAlign="space-around center">

                <div fxFlex="26" class="legend-item core-number"><span class="label">Core number:</span> {{legendData[0].index}}</div>
                <div fxFlex="26" class="legend-item usage">
                  <div class="legend-swatch" style="background-color:var(--primary);"></div><span class="label">{{legendData[0].name}}:</span> {{legendData[0].value}}%
                </div>
                <div fxFlex="26" *ngIf="legendData[1]" class="legend-item temperature">
                  <div class="legend-swatch" style="background-color: var(--accent)"></div><span class="label">{{legendData[1].name}}:</span> {{legendData[1].value}}Â°C
                </div>
              
              </div>
            </div>

            <ng-template #noLegend>
              <div id="cpu-load-cores-legend-values" fxFlex fxLayout="row" fxLayoutAlign="space-around center">

                <div fxFlex="26" class="legend-item core-number"><span class="label">Stats Per Core</span></div>
                <div fxFlex="26" class="legend-item usage">
                  <div class="legend-swatch" style="background-color:var(--primary);"></div><span class="label">Usage:</span> 
                </div>
                <div fxFlex="26" class="legend-item temperature">
                  <div class="legend-swatch" style="background-color: var(--accent)"></div><span class="label">Temperature:</span> 
                </div>

                <!--<div fxFlex="100" class="legend-item chart-label">
                  <span class="label">CPU Usage/Temperature per Core</span>
                  </div>-->
              </div>
            </ng-template>

          <div fxFlex="100" id="cpu-cores-chart" class="bar-chart"></div>
        </div> <!-- Cores Wrapper -->

        <!-- DETAILS -->
        <!--<div class="title-wrapper fn-theme-primary" fxFlex="100">
          <mat-progress-bar class="widget-loader" *ngIf="loader" mode="indeterminate"></mat-progress-bar>
          <ng-container *ngIf="showLegendValues">
          <p class="title">{{altTitle}}</p>
          <p class="subtitle">{{altSubtitle}}</p>
          </ng-container>
          <ng-container *ngIf="!showLegendValues">
          <p class="title">{{title}}</p>
          <p class="subtitle">{{subtitle}}</p>
          </ng-container>
          <button mat-button class="reports-btn" (click)="router.navigate(['reportsdashboard/cpu'])">REPORTS</button>
          </div>-->
      </mat-card-content>
    </mat-card>

    <!--<ng-template *ngIf="configurable">
      <mat-card class="back">
      <mat-card-content fxLayout="column" fxLayoutAlign="start stretch" fxFlex="100">
      </mat-card-content>
      <div class="widget-footer">
      <button mat-button color="accent" (click)="toggleConfig()">{{"Cancel" | translate}}</button>
      <button mat-button color="primary" type="submit" form="preferences" (click)="toggleConfig()">{{"Save" | translate}}</button>
      </div>
      </mat-card>
      </ng-template>-->

  </div>
</div>
