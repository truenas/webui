<span class="prefix-icon">
  <ix-icon name="search"></ix-icon>
</span>

<input
  #searchControl
  matInput
  ixTest="search"
  class="input"
  [placeholder]="'Search' | translate"
  [ngModel]="query()"
  (ngModelChange)="queryChange.emit($event)"
  (keydown.enter)="runSearch.emit()"
/>

@if (allowAdvanced()) {
  <span
    class="switch-link"
    ixTest="switch-to-advanced"
    tabindex="0"
    [matTooltip]="'Switch To Advanced' | translate"
    (click)="switchToAdvanced.emit()"
    (keydown.enter)="$event.preventDefault(); switchToAdvanced.emit()"
  >
    <ix-icon name="mdi-tune"></ix-icon>
    {{ 'Advanced' | translate }}
  </span>
}

@if (searchControl.value) {
  <span
    class="reset-icon reset-input"
    (click)="resetInput()"
  >
    <ix-icon
      name="mdi-close-circle"
      tabindex="0"
      (keydown.enter)="$event.preventDefault(); resetInput()"
    ></ix-icon>
  </span>
}
