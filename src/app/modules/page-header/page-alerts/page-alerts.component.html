@if (hasAlerts()) {
  <div class="page-alerts-container">
    @let grouped = groupedAlerts();

    <!-- Critical Alerts -->
    @for (alert of grouped.critical; track alert.uuid) {
      <div [class]="'page-alert ' + getAlertClass(alert.level)">
        <div class="alert-header">
          <ix-icon class="alert-icon" [name]="getAlertIcon(alert.level)"></ix-icon>
          <div class="alert-content">
            <div class="alert-message">{{ alert.formatted }}</div>
            @if (alert.contextualHelp) {
              <div class="alert-help">{{ alert.contextualHelp }}</div>
            }
          </div>
        </div>

        @if (alert.actions && alert.actions.length > 0) {
          <div class="alert-actions">
            @for (action of alert.actions; track action.label) {
              @if (action.primary) {
                <button
                  class="alert-action-btn primary"
                  (click)="onActionClick(action.handler)"
                >
                  <ix-icon [name]="action.icon"></ix-icon>
                  <span>{{ action.label | translate }}</span>
                </button>
              }
            }
          </div>
        }
      </div>
    }

    <!-- Warning Alerts -->
    @for (alert of grouped.warnings; track alert.uuid) {
      <div [class]="'page-alert ' + getAlertClass(alert.level)">
        <div class="alert-header">
          <ix-icon class="alert-icon" [name]="getAlertIcon(alert.level)"></ix-icon>
          <div class="alert-content">
            <div class="alert-message">{{ alert.formatted }}</div>
            @if (alert.contextualHelp) {
              <div class="alert-help">{{ alert.contextualHelp }}</div>
            }
          </div>
        </div>

        @if (alert.actions && alert.actions.length > 0) {
          <div class="alert-actions">
            @for (action of alert.actions; track action.label) {
              @if (action.primary) {
                <button
                  class="alert-action-btn primary"
                  (click)="onActionClick(action.handler)"
                >
                  <ix-icon [name]="action.icon"></ix-icon>
                  <span>{{ action.label | translate }}</span>
                </button>
              }
            }
          </div>
        }
      </div>
    }
  </div>
}
