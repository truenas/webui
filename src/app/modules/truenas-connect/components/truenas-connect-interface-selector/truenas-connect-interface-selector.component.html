<div class="interface-selector-content">
  <p class="selector-description">
    {{ "Select the interfaces to use for TrueNAS Connect" | translate }}
  </p>

  <div class="interface-list">
    @for (interface of interfaces(); track interface.address) {
      <label
        class="interface-item"
        [class.selected]="isSelected(interface.address)"
      >
        <mat-checkbox
          [checked]="isSelected(interface.address)"
          (change)="toggleInterface(interface.address)"
        ></mat-checkbox>
        <span class="interface-details">
          <span class="interface-name">{{ interface.kind }}</span>
          <span class="interface-address">{{ interface.address }}</span>
        </span>
      </label>
    }

    <label
      class="interface-item"
      [class.selected]="customEnabled()"
    >
      <mat-checkbox
        [checked]="customEnabled()"
        (change)="toggleCustom()"
        ixTest="tnc-interface-checkbox-custom"
      ></mat-checkbox>
      <span class="interface-details custom">
        <span class="interface-name">{{ "Custom" | translate }}</span>
        <div class="custom-ip-container">
          <input
            type="text"
            [formControl]="customIpControl"
            placeholder="{{ 'Enter IP address' | translate }}"
            class="custom-ip-input"
            ixTest="tnc-custom-ip-input"
            (click)="$event.stopPropagation()"
          />
        </div>
      </span>
    </label>
  </div>
  @if (customEnabled() && customIpControl.invalid && (customIpControl.dirty || customIpControl.touched)) {
    <div class="error-message">
      {{ "Please enter a valid IP address" | translate }}
    </div>
  }
</div>
