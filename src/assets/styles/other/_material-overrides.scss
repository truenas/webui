// TODO: Do something better.
html .ix-dark {
  --mdc-text-button-label-text-tracking: normal;
  --mdc-list-list-item-label-text-tracking: normal;
  --mdc-list-list-item-label-text-line-height: 1.65;
  --mdc-list-list-item-label-text-color: var(--fg2);
  --mdc-list-list-item-disabled-label-text-color: var(--fg2);
  --mdc-list-list-item-hover-label-text-color: var(--fg2);
  --mdc-list-list-item-label-text-font: var(--font-family-body);
  --mdc-list-list-item-one-line-container-height: 48px;
  --mdc-list-list-item-selected-container-color: var(--bg2);
  --mdc-list-list-item-supporting-text-color: var(--fg2);

  --mat-card-title-text-tracking: normal;

  --mdc-dialog-subhead-color: var(--fg1);
  --mdc-dialog-supporting-text-color: var(--fg2);
  --mdc-dialog-supporting-text-font: var(--font-family-body);
  --mdc-dialog-supporting-text-size: 0.875rem;
  --mdc-dialog-subhead-size: 1.42rem;
  --mdc-dialog-subhead-font: var(--font-family-body);
  --mdc-dialog-supporting-text-weight: 400;
  --mdc-dialog-subhead-weight: 600;
  --mdc-dialog-supporting-text-line-height: 1.65;
  --mdc-dialog-subhead-line-height: 1.65;
  --mdc-dialog-supporting-text-tracking: 0;
  --mdc-dialog-container-shape: 0;
  --mdc-dialog-subhead-tracking: 0;
  --mdc-shape-medium: 4px;
  --mdc-theme-primary: var(--primary);
  --mat-slide-toggle-selected-track-color: var(--primary);
  --mat-slide-toggle-selected-hover-track-color: var(--primary);
  --mat-slide-toggle-selected-focus-track-color: var(--primary);
  --mat-slide-toggle-selected-focus-state-layer-color: var(--primary);
  --mat-slide-toggle-selected-focus-handle-color: var(--primary);
  --mat-slide-toggle-selected-pressed-track-color: var(--primary);
  --mat-slide-toggle-selected-pressed-state-layer-color: var(--primary);
  --mat-slide-toggle-selected-pressed-handle-color: var(--primary);
  --mat-button-outlined-label-text-color: var(--fg2);
  --mat-button-filled-container-color: var(--bg2);
  --mat-button-filled-label-text-color: var(--fg2);
  --mat-icon-button-disabled-icon-color: var(--alt-fg1);
  --mat-list-list-item-disabled-label-text-color: var(--fg2);
  --mat-snack-bar-container-color: var(--bg2);
  --mat-slide-toggle-selected-hover-handle-color: var(--primary);
  --mdc-switch-selected-handle-color: var(--primary);
  --mdc-switch-selected-track-color: var(--primary);
  --mdc-switch-selected-hover-handle-color: var(--primary);
  --mdc-switch-selected-hover-track-color: var(--primary);
  --mdc-switch-selected-focus-handle-color: var(--primary);
  --mdc-switch-selected-focus-track-color: var(--primary);
  --mdc-switch-selected-pressed-handle-color: var(--primary);
  --mdc-switch-selected-pressed-track-color: var(--primary);
  --mdc-form-field-label-text-color: var(--fg1);
  --mdc-form-field-label-text-size: inherit;
  --mdc-switch-unselected-track-color: var(--alt-bg2);
  --mat-slide-toggle-unselected-track-color: var(--alt-bg2);
  --mat-slide-toggle-unselected-hover-track-color: var(--alt-bg2);
  --mdc-switch-unselected-hover-handle-color: var(--alt-bg1);
  --mdc-switch-unselected-hover-track-color: var(--alt-bg2);
  --mdc-switch-unselected-focus-handle-color: var(--alt-bg1);
  --mdc-switch-unselected-handle-color: var(--alt-bg1);
  --mdc-switch-unselected-focus-track-color: var(--alt-bg2);
  --mdc-switch-unselected-pressed-handle-color: var(--alt-bg1);
  --mdc-switch-unselected-pressed-track-color: var(--alt-bg2);
  --mdc-switch-unselected-icon-color: var(--primary-txt);
  --mdc-switch-selected-icon-color: var(--primary-txt);
  --mdc-switch-handle-surface-color: var(--alt-bg1);
  --mdc-circular-progress-active-indicator-color: var(--primary);
  --mat-radio-checked-ripple-color: var(--primary);
  --mat-radio-ripple-color: var(--primary);
  --mdc-radio-selected-icon-color: var(--primary);
  --mdc-radio-unselected-icon-color: var(--fg2);
  --mdc-radio-selected-hover-icon-color: var(--primary);
  --mdc-radio-selected-pressed-icon-color: var(--primary);
  --mdc-radio-unselected-hover-icon-color: var(--primary);
  --mdc-radio-unselected-pressed-icon-color: var(--primary);
  --mdc-radio-unselected-focus-icon-color: var(--primary);
  --mdc-radio-selected-focus-icon-color: var(--primary);
  --mdc-chip-elevated-container-color: #e0e0e0;
  --mdc-chip-with-trailing-icon-trailing-icon-color: #000000de;
  --mdc-chip-label-text-color: #000000de;
  --mdc-chip-container-height: 23px;
  --mdc-snackbar-container-color: var(--bg1);
  --mdc-snackbar-supporting-text-color: var(--fg1);
  --mdc-snackbar-supporting-text-font: var(--mdc-dialog-supporting-text-font);
  --mdc-snackbar-supporting-text-size: 1rem;
  --mat-option-selected-state-layer-color: var(--bg2);
  --mat-mdc-slider-hover-ripple-color: rgba(0, 149, 213, 0.05);
  --mat-mdc-slider-focus-ripple-color: rgba(0, 149, 213, 0.2);
  --mat-mdc-button-persistent-ripple-color: rgba(0, 0, 0, 0.2);
  --mdc-icon-button-icon-color: var(--fg2);
  --mat-mdc-button-ripple-color: rgba(0, 0, 0, 0.2);
  --mdc-checkbox-state-layer-size: 40px;
  --mat-tab-header-inactive-label-text-color: var(--fg2);
  --mat-tab-header-inactive-hover-label-text-color: var(--fg1);
  --mat-tab-header-inactive-focus-label-text-color: var(--fg1);
  --mat-table-row-item-label-text-color: var(--fg2);
  --mat-table-header-headline-color: var(--fg2);
  --mdc-filled-text-field-input-text-color: var(--alt-fg2);
  --mat-option-selected-state-label-text-color: var(--primary-txt);
  --mat-tab-inactive-label-text-color: var(--fg2);
  --mat-tab-inactive-hover-label-text-color: var(--fg2);
  --mat-tab-inactive-focus-label-text-color: var(--fg2);
  --mat-menu-item-label-text-line-height: 20px;
  --mat-menu-item-label-text-font: var(--font-family-body);
  --mat-paginator-container-size: unset;
  --mat-paginator-container-text-font: var(--font-family-body);

  --mat-stepper-header-selected-state-label-text-size: 14px;
  --mat-stepper-header-selected-state-label-text-weight: 500;
  --mat-stepper-container-text-font: var(--font-family-body);
  --mat-stepper-header-label-text-font: var(--font-family-body);
  --mat-stepper-header-label-text-size: 14px;

  --mat-checkbox-unselected-icon-color: var(--fg2);
  --mat-checkbox-label-text-color: var(--fg1);
  --mdc-checkbox-unselected-icon-color: var(--primary);
  --mdc-checkbox-selected-checkmark-color: var(--fg2);
  --mdc-checkbox-selected-focus-icon-color: var(--primary);
  --mdc-checkbox-selected-hover-icon-color: var(--primary);
  --mdc-checkbox-selected-icon-color: var(--primary);
  --mdc-checkbox-selected-pressed-icon-color: var(--primary);
  --mdc-checkbox-selected-focus-state-layer-color: var(--primary);
  --mdc-checkbox-selected-hover-state-layer-color: var(--primary);
  --mdc-checkbox-selected-pressed-state-layer-color: var(--primary);

  --mdc-outlined-button-label-text-tracking: normal;
  --mdc-outlined-button-label-text-size: 0.95rem;

  --mdc-filled-text-field-container-color: transparent;

  --mat-form-field-container-vertical-padding: 0;
  --mat-paginator-container-text-line-height: 12px;
  --mat-form-field-container-height: 0;

  --mdc-filled-button-container-color: transparent;
  --mdc-filled-button-label-text-color: var(--fg2);
  --mdc-filled-button-disabled-container-color: transparent;

  --mat-toolbar-title-text-tracking: normal;
  --mdc-outlined-button-label-text-color: var(--fg2);

  --mat-autocomplete-background-color: var(--bg2);

  --mat-datepicker-toggle-icon-color: inherit;
  --mat-datepicker-calendar-container-background-color: var(--bg2);
  --mat-datepicker-calendar-container-text-color: var(--fg1);
  --mat-datepicker-calendar-text-font: var(--font-family-body);
  --mat-datepicker-calendar-date-selected-state-background-color: variable(--primary);
  --mat-datepicker-calendar-navigation-button-icon-color: var(--fg2);
  --mat-standard-button-toggle-selected-state-text-color: var(--fg2);

  --mat-sidenav-container-text-color: var(--fg1);
  --mat-sidenav-content-text-color: var(--fg1);
  --mat-list-list-item-label-text-color: var(--fg2);
  --mat-list-list-item-hover-label-text-color: var(--fg1);
  --mat-dialog-subhead-color: var(--fg2);
  --mat-dialog-subhead-weight: var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));
  --mat-dialog-supporting-text-color: var(--fg2);
  --mat-dialog-supporting-text-line-height: var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));
  --mat-dialog-subhead-tracking: 0;
  --mat-button-toggle-selected-state-text-color: var(--fg1);
  --mat-slide-toggle-label-text-color: var(--fg1);
  --mat-checkbox-selected-checkmark-color: var(--primary-txt);
  --mat-checkbox-disabled-selected-icon-color: var(--grey);
  --mat-checkbox-disabled-unselected-icon-color: var(--grey);
  --mat-form-field-filled-container-color: transparent;

  --mat-button-text-label-text-tracking: normal;
  --mat-button-filled-label-text-tracking: normal;
  --mat-button-outlined-label-text-tracking: normal;

  .mat-mdc-slide-toggle {
    --mat-switch-label-text-color: var(--fg2);
  }

  .mat-mdc-radio-button .mat-internal-form-field {
    --mat-radio-label-text-color: var(--fg1);
  }

  .mat-mdc-slide-toggle,
  .mat-mdc-checkbox {
    --mdc-form-field-label-text-color: var(--fg1);
    --mdc-form-field-label-text-tracking: normal;
    --mdc-form-field-label-text-size: inherit;
    --mdc-form-field-label-text-font: var(--font-family-body);
    --mat-checkbox-label-text-color: var(--fg1);
  }

  .mat-mdc-slide-toggle {
    --mdc-form-field-label-text-color: var(--fg2);
    --mat-slide-toggle-label-text-color: var(--fg2);
  }

  .mat-mdc-checkbox {
    --mdc-form-field-label-text-font: var(--font-family-body);

    &.mat-mdc-checkbox-disabled label {
      color: var(--fg2);
      opacity: 0.7;
    }

    &.mat-primary {
      --mat-checkbox-disabled-selected-icon-color: #9c9c9c;
      --mat-checkbox-disabled-unselected-icon-color: #9c9c9c;
      --mat-checkbox-selected-checkmark-color: var(--primary-txt);
      --mat-checkbox-selected-focus-icon-color: var(--primary);
      --mat-checkbox-selected-focus-state-layer-color: var(--primary);
      --mat-checkbox-selected-hover-icon-color: var(--primary);
      --mat-checkbox-selected-hover-state-layer-color: var(--primary);
      --mat-checkbox-selected-icon-color: var(--primary);
      --mat-checkbox-selected-pressed-icon-color: var(--primary);
      --mat-checkbox-unselected-focus-icon-color: var(--primary);
      --mat-checkbox-unselected-focus-state-layer-color: var(--primary);
      --mat-checkbox-unselected-hover-icon-color: var(--primary);
      --mat-checkbox-unselected-hover-state-layer-color: var(--primary);
      --mat-checkbox-unselected-icon-color: var(--primary);
      --mat-checkbox-unselected-icon-color: var(--primary);
      --mat-checkbox-unselected-pressed-icon-color: var(--primary);


      &.mat-mdc-checkbox-disabled {
        --mat-checkbox-disabled-selected-checkmark-color: var(--fg2);
        --mat-checkbox-disabled-selected-icon-color: var(--grey);
        --mat-checkbox-disabled-unselected-icon-color: var(--grey);
        --mat-checkbox-disabled-selected-hover-icon-color: var(--grey);
        --mat-checkbox-disabled-unselected-hover-icon-color: var(--grey);
        --mat-checkbox-disabled-selected-hover-state-layer-color: transparent;
        --mat-checkbox-disabled-unselected-hover-state-layer-color: transparent;
        --mat-checkbox-disabled-selected-focus-state-layer-color: transparent;
        --mat-checkbox-disabled-unselected-focus-state-layer-color: transparent;
        --mat-checkbox-selected-focus-state-layer-color: var(--grey);
        --mat-checkbox-unselected-focus-icon-color: var(--grey);
        --mat-checkbox-disabled-selected-pressed-state-layer-color: transparent;
        --mat-checkbox-disabled-unselected-pressed-state-layer-color: transparent;

        // Override all interaction states to use grey
        --mat-checkbox-selected-checkmark-color: var(--grey);
        --mat-checkbox-selected-icon-color: var(--grey);
        --mat-checkbox-unselected-icon-color: var(--grey);
        --mat-checkbox-selected-hover-icon-color: var(--grey);
        --mat-checkbox-unselected-hover-icon-color: var(--grey);
        --mat-checkbox-selected-pressed-icon-color: var(--grey);
        --mat-checkbox-unselected-pressed-icon-color: var(--grey);
        --mat-checkbox-selected-focus-icon-color: var(--grey);
        --mat-checkbox-unselected-focus-icon-color: var(--grey);
        --mat-checkbox-selected-hover-state-layer-color: transparent;
        --mat-checkbox-unselected-hover-state-layer-color: transparent;
        --mat-checkbox-selected-focus-state-layer-color: transparent;
        --mat-checkbox-unselected-focus-state-layer-color: transparent;
        --mat-checkbox-selected-pressed-state-layer-color: transparent;
        --mat-checkbox-unselected-pressed-state-layer-color: transparent;

        // Override MDC properties for disabled hover states - all grey
        --mdc-checkbox-disabled-selected-icon-color: var(--grey);
        --mdc-checkbox-disabled-unselected-icon-color: var(--grey);
        --mdc-checkbox-disabled-selected-checkmark-color: var(--grey);
        --mdc-checkbox-disabled-unselected-checkmark-color: var(--grey);
        --mdc-checkbox-selected-checkmark-color: var(--grey);
        --mdc-checkbox-selected-icon-color: var(--grey);
        --mdc-checkbox-unselected-icon-color: var(--grey);
        --mdc-checkbox-selected-hover-icon-color: var(--grey);
        --mdc-checkbox-unselected-hover-icon-color: var(--grey);
        --mdc-checkbox-selected-pressed-icon-color: var(--grey);
        --mdc-checkbox-unselected-pressed-icon-color: var(--grey);
        --mdc-checkbox-selected-focus-icon-color: var(--grey);
        --mdc-checkbox-unselected-focus-icon-color: var(--grey);
        --mdc-checkbox-selected-hover-state-layer-color: transparent;
        --mdc-checkbox-unselected-hover-state-layer-color: transparent;
        --mdc-checkbox-selected-focus-state-layer-color: transparent;
        --mdc-checkbox-unselected-focus-state-layer-color: transparent;
        --mdc-checkbox-selected-pressed-state-layer-color: transparent;
        --mdc-checkbox-unselected-pressed-state-layer-color: transparent;

        // Ensure disabled checkboxes don't get hover effects
        &:hover {
          --mdc-checkbox-selected-hover-icon-color: var(--grey);
          --mdc-checkbox-unselected-hover-icon-color: var(--grey);
          --mdc-checkbox-selected-hover-state-layer-color: transparent;
          --mdc-checkbox-unselected-hover-state-layer-color: transparent;
        }

        &:focus {
          --mdc-checkbox-selected-focus-icon-color: var(--grey);
          --mdc-checkbox-unselected-focus-icon-color: var(--grey);
          --mdc-checkbox-selected-focus-state-layer-color: transparent;
          --mdc-checkbox-unselected-focus-state-layer-color: transparent;
        }
      }
    }
  }

  .mat-mdc-radio-button {
    --mdc-form-field-label-text-color: var(--fg2);
    --mdc-form-field-label-text-size: 12px;
    --mat-radio-label-text-line-height: 1rem;
    --mat-radio-label-text-color: var(--fg1);


    &.mat-primary {
      --mdc-radio-disabled-selected-icon-color: var(--primary);
      --mdc-radio-disabled-unselected-icon-color: var(--primary);
      --mdc-radio-unselected-hover-icon-color: var(--primary);
      --mdc-radio-unselected-icon-color: var(--primary);
      --mdc-radio-state-layer-size: 36px;
      --mat-radio-unselected-hover-icon-color: var(--primary);
      --mat-radio-unselected-icon-color: var(--primary);
    }
  }

  .mat-button-toggle-button {
    font-family: var(--font-family-body);
  }

  .mat-mdc-select {
    --mat-select-trigger-text-line-height: 1.65;
  }

  .mat-mdc-chip-input {
    min-height: 22px;
    padding: 0;
  }

  .mat-mdc-chip.mat-mdc-standard-chip {
    --mdc-chip-container-height: unset;
    --mdc-chip-label-text-size: 11px;
  }

  .mat-mdc-button.mat-primary {
    --mat-button-filled-container-color: var(--primary);
    --mat-button-outlined-label-text-color: var(--primary);
    --mat-button-outlined-state-layer-color: var(--fg2);
    --mat-button-protected-container-color: var(--primary);
    --mat-button-text-label-text-color: var(--primary);
    --mat-text-button-state-layer-color: var(--fg2);
    --mat-text-button-pressed-state-layer-color: var(--fg2);
    --mat-text-button-focus-state-layer-color: var(--fg2);
    --mat-text-button-hover-state-layer-color: var(--fg2);
    --mat-button-tonal-container-color: var(--primary);
    --mat-text-button-ripple-color: var(--primary);
    --mat-text-button-protected-ripple-color: var(--primary);
    --mat-text-button-tonal-ripple-color: var(--primary);
    --mdc-text-button-focus-state-layer-color: var(--fg2);
    --mdc-text-button-hover-state-layer-color: var(--fg2);
    --mdc-text-button-pressed-state-layer-color: var(--fg2);
    background-color: var(--primary);
  }

  .mat-mdc-button.mat-accent {
    --mat-button-filled-container-color: var(--accent);
    --mat-button-outlined-label-text-color: var(--accent);
    --mat-button-outlined-state-layer-color: var(--fg2);
    --mat-button-protected-container-color: var(--accent);
    --mat-button-text-label-text-color: var(--accent);
    --mat-text-button-state-layer-color: var(--fg2);
    --mat-text-button-pressed-state-layer-color: var(--fg2);
    --mat-text-button-focus-state-layer-color: var(--fg2);
    --mat-text-button-hover-state-layer-color: var(--fg2);
    --mat-button-tonal-container-color: var(--accent);
    --mat-text-button-ripple-color: var(--alt-bg1);
    --mat-text-button-protected-ripple-color: var(--alt-bg1);
    --mat-text-button-tonal-ripple-color: var(--alt-bg1);
    --mdc-text-button-focus-state-layer-color: var(--fg2);
    --mdc-text-button-hover-state-layer-color: var(--fg2);
    --mdc-text-button-pressed-state-layer-color: var(--fg2);

    &:focus-visible {
      outline: 1.5px solid var(--alt-fg2) !important;
    }
  }

  .mat-mdc-button.mat-warn {
    --mat-text-button-state-layer-color: var(--fg2);
    --mat-text-button-pressed-state-layer-color: var(--fg2);
    --mat-text-button-focus-state-layer-color: var(--fg2);
    --mat-text-button-hover-state-layer-color: var(--fg2);
    --mdc-text-button-focus-state-layer-color: var(--fg2);
    --mdc-text-button-hover-state-layer-color: var(--fg2);
    --mdc-text-button-pressed-state-layer-color: var(--fg2);
    background-color: var(--red);

    &:active,
    &:focus,
    &:focus-visible,
    &.mat-mdc-button-pressed {
      background-color: var(--red) !important;
    }
  }

  .mat-mdc-tab-nav-bar,
  .mat-mdc-tab-list {
    --mat-tab-header-inactive-label-text-color: var(--fg2);
    --mat-tab-header-inactive-hover-label-text-color: var(--fg1);
    --mat-tab-inactive-label-text-color: var(--fg2);
    --mat-tab-inactive-hover-label-text-color: var(--fg2);
    --mat-tab-inactive-focus-label-text-color: var(--fg2);
    --mat-tab-header-active-ripple-color: var(--focus-bg);
    --mat-tab-header-inactive-ripple-color: var(--focus-bg);
    --mat-tab-header-inactive-focus-label-text-color: inherit;
  }

  .mat-mdc-tab-link {
    --mat-tab-header-label-text-tracking: normal;
  }

  .mat-mdc-standard-chip {
    --mdc-chip-label-text-weight: 600;
  }

  .mat-mdc-select-arrow svg {
    fill: var(--fg2);
  }

  .mat-mdc-slide-toggle .mdc-switch--disabled+label {
    color: var(--fg2);
    opacity: var(--disabled-opacity);
  }
}

// Fix for snackbar z-index to ensure it appears above other overlays like dialogs
// Apply high z-index to the overlay wrapper that contains snackbars
.cdk-global-overlay-wrapper {
  &:has(.mat-mdc-snack-bar-container),
  &:has(.ix-snackbar-high-priority) {
    z-index: 3000 !important;
  }
}

// Fallback approach for browsers that don't support :has()
// Target the snackbar container directly
.mat-mdc-snack-bar-container.ix-snackbar-high-priority {
  // Force the parent overlay wrapper to have higher z-index
  position: relative;

  // Use a pseudo-element to push the z-index up
  &::before {
    bottom: 0;
    content: '';
    left: 0;
    pointer-events: none;
    position: fixed;
    right: 0;
    top: 0;
    z-index: -1;
  }
}
